{"remainingRequest":"C:\\Users\\25850\\Desktop\\yuntuhulian\\nanjin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\25850\\Desktop\\yuntuhulian\\nanjin\\src\\components\\part\\map.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\25850\\Desktop\\yuntuhulian\\nanjin\\src\\components\\part\\map.vue","mtime":1626773552991},{"path":"C:\\Users\\25850\\Desktop\\yuntuhulian\\nanjin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\25850\\Desktop\\yuntuhulian\\nanjin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\25850\\Desktop\\yuntuhulian\\nanjin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\25850\\Desktop\\yuntuhulian\\nanjin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgIm9sL29sLmNzcyI7DQppbXBvcnQgb2wgZnJvbSAib3BlbmxheWVycyI7DQppbXBvcnQgeyBnZXRBcmVhLCBnZXRMZW5ndGggfSBmcm9tICJvbC9zcGhlcmUuanMiOw0KaW1wb3J0IHsgdW5CeUtleSB9IGZyb20gIm9sL09ic2VydmFibGUuanMiOw0KaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsNCi8vIGltcG9ydCBCdXMgZnJvbSAiQC9CdXMvYnVzLmpzIjsNCmltcG9ydCBNYXBSZXEgZnJvbSAiQC9hcGkvbXV0dWFsbHkuanMiOw0KLy8gaW1wb3J0IGFkZFBvbHlnb25WdWUgZnJvbSAiLi4vZGlhbG9nL2FkZFBvbHlnb24udnVlIjsNCi8v5Zyw5Zu+5pa55rOVDQppbXBvcnQgTWFwTWV0IGZyb20gIi4uLy4uL2Fzc2V0cy9tYXBNZXRob2QvbWFwLmpzIjsNCmltcG9ydCBNZWFzdXJlIGZyb20gIi4uLy4uL2Fzc2V0cy9tYXBNZXRob2QvbWVhc3VyZUFyZWEuanMiOw0KLy/lvqrnjq93bXPlm77lsYINCi8vIGltcG9ydCBXbXNBbGxMYXllcnMgZnJvbSAiLi4vLi4vYXNzZXRzL21hcE1ldGhvZC93bXNMYXllcnMuanMiDQpjb25zdCBjaXR5T3B0aW9ucyA9IFsNCiAgIueUtee8huebtOWfiyIsDQogICLnlLXnvIbnrqHpgZPvvIjnrqHpgZPvvIkiLA0KICAi55S157yG566h6YGT77yI6L+H6Lev566h6YGT77yJIiwNCiAgIumhtueuoSIsDQogICLnlLXnvIbmsp8iLA0KICAi55S157yG5qGlIiwNCiAgIueUtee8humap+mBkyIsDQpdOw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIGZvcm1EYXRhOiB7DQogICAgICAvL+a3u+WKoOexu+Weiw0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIHt9Ow0KICAgICAgfSwNCiAgICB9LA0KICAgIGptbWJzbDogew0KICAgICAgLy/miKrpnaLmqKHmnb8NCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIC8vIHJldHVybiB7fTsNCiAgICAgIH0sDQogICAgfSwNCiAgICBnamRhdGFuYW1lOiB7DQogICAgICAvL+aIqumdouaooeadvw0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgLy8gcmV0dXJuIHt9Ow0KICAgICAgfSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjaGVja0FsbDogdHJ1ZSwNCiAgICAgIGNoZWNrZWRDaXRpZXM6IFsNCiAgICAgICAgIueUtee8huebtOWfiyIsDQogICAgICAgICLnlLXnvIbnrqHpgZPvvIjnrqHpgZPvvIkiLA0KICAgICAgICAi55S157yG566h6YGT77yI6L+H6Lev566h6YGT77yJIiwNCiAgICAgICAgIumhtueuoSIsDQogICAgICAgICLnlLXnvIbmsp8iLA0KICAgICAgICAi55S157yG5qGlIiwNCiAgICAgICAgIueUtee8humap+mBkyIsDQogICAgICBdLA0KICAgICAgY2l0aWVzOiBjaXR5T3B0aW9ucywNCiAgICAgIGlzSW5kZXRlcm1pbmF0ZTogZmFsc2UsDQogICAgICB3bXN0dWNlbjogWw0KICAgICAgICAiZGl0dV9kbHN5ZF9pbmZvX3BvaW50X0RlZmF1bHQiLCAvL+e6oueCueeCuQ0KICAgICAgICAiZGl0dV9kbGdkX2luZm9fbGluZV9EZWZhdWx0IiwgLy/nlLXnvIbnrqHpgZMNCiAgICAgICAgImRpdHVfam1fZm9vdF9saW5lX0RlZmF1bHQiLCAvL+aIqumdouW8leiEmg0KDQogICAgICAgICJkaXR1X2RsanRfaW5mb19wb2ludF9EZWZhdWx0IiwNCiAgICAgICAgImRpdHVfZGxkX2luZm9fbGluZV9EZWZhdWx0IiwNCiAgICAgICAgImRpdHVfZGxfaW5mb19saW5lX0RlZmF1bHQiLA0KDQogICAgICAgICJkaXR1X2Rsc2RfaW5mb19saW5lX0RlZmF1bHQiLA0KICAgICAgICAiZGl0dV9kbHFfaW5mb19saW5lX0RlZmF1bHQiLA0KICAgICAgICAiZGl0dV9kbGdfaW5mb19saW5lX0RlZmF1bHQiLA0KDQogICAgICAgICJkaXR1X2Rnc2JfaW5mb19saW5lX0RlZmF1bHQiLA0KICAgICAgICAiZGl0dV9kbGdkX2luZm9fbGluZV9EZWZhdWx0IiwNCiAgICAgICAgImRpdHVfZ2RzYl9pbmZvX2xpbmVfRGVmYXVsdCIsDQoNCiAgICAgICAgImRpdHVfem1zYl9pbmZvX2xpbmVfRGVmYXVsdCIsDQogICAgICAgICJkaXR1X3ptZHlfaW5mb19wb2x5Z29uX0RlZmF1bHQiLA0KICAgICAgICAiZGl0dV9qbV9pbmZvX3BvbHlnb25fRGVmYXVsdCIsDQogICAgICAgICJkaXR1X2dqX2luZm9fcG9pbnRfRGVmYXVsdCIsDQogICAgICBdLA0KICAgICAgLy8gY2VudGVyRGlhbG9nVmlzaWJsZTogdHJ1ZSwvL+ehruiupOW8ueeqlw0KICAgICAgY2hvZXN0dWM6IGZhbHNlLCAvL+WIh+aNog0KDQogICAgICBkaXR1c2hvdzogZmFsc2UsIC8v5Zu+5bGC5YiH5o2iDQogICAgICB0b29sc3R5cGU6IGZhbHNlLCAvL+W3peWFt+eusQ0KICAgICAgbWFwOiBudWxsLCAvL+WcsOWbvg0KICAgICAgd21zTGF5ZXI6IHt9LCAvL+efoumHjw0KICAgICAgd21zU291cmNlOiB7fSwgLy/nn6Lph4/lm77lm77lsYINCiAgICAgIHd4bWFwOiB7fSwgLy/ljavmmJ8NCiAgICAgIGppdWZlbmdXTVRTOiB7fSwgLy8yRA0KICAgICAgZHJhd0xheWVyOiB7fSwNCiAgICAgIGFwcEQ6IG51bGwsDQogICAgICBkcmF3OiBudWxsLA0KICAgICAgbW9kaWZ5OiBudWxsLA0KICAgICAgc25hcDogbnVsbCwNCiAgICAgIHR5cGVTZWxlY3RlZDogIm5vbmUiLCAvL+WcsOWbvue7mOeUu+exu+Weiw0KICAgICAgaXNHZXRSYWR1aXNGZWF0dXJlOiAibm9uZSIsIC8v5p+l55yL57G75Z6LDQogICAgICBkcWhsaW5lZGF0YTogbnVsbCwgLy/nlLXmsJTljJbnur/ot6/lm77lsYINCiAgICAgIC8vd21z5Zu+5bGC5o6n5Yi2DQogICAgICAvLyB3bXNsYXllcnNob3c6J2RpdHVfRGVmYXVsdCcsDQogICAgICB3bXNTaG93OiB0cnVlLA0KDQogICAgICAvL+S/ruaUueW3peS6lQ0KICAgICAgZ2pyaWQ6ICIiLA0KICAgICAgZ2pjb29yZGluYXRlOiAiIiwNCiAgICAgIE1vdmdqY29vcmRpbmF0ZWlkOiAiIiwgLy/nvJbovpHoioLngrnlgqjlrZhpZA0KICAgICAgLy8gY2hhbmdQb2ludDpmYWxzZSwgIC8v5L+u5pS554K5DQogICAgICAvL+a3u+WKoOaIqumdog0KICAgICAgYWRkUG9seWdvbjogZmFsc2UsDQogICAgICBnZENvb3JkaW5hdGU6ICIiLCAvL+euoemBk+WdkOaghw0KICAgICAgY29vcmRpbmF0ZTogIiIsIC8vIOepuuWcsOWdkOaghw0KICAgICAgam1nZG1jOiAiIiwgLy/nrqHpgZPlkI3np7ANCg0KICAgICAgLy/liKDpmaTlt6XkupUNCiAgICAgIGRlbGVQb2ludDogZmFsc2UsDQogICAgICAvL+iKgueCuee8lui+keeKtuaAgQ0KICAgICAgbm9kZWNvbXA6IGZhbHNlLA0KICAgICAgLy/nu5jliLbkuKTnq6/liqDngrkNCiAgICAgIGJvdGhQb2ludDogdHJ1ZSwNCg0KICAgICAgLy/nlLXnvIblhbPogZTln4vorr4NCiAgICAgIGRsZ2xtczogZmFsc2UsDQogICAgICBkbGRvd25nZDogImRsIiwgLy/mn6Xor6LlroznlLXnvIbvvIzmn6Xor6LnrqHpgZMNCiAgICAgIGRsaWQ6ICIiLCAvL+eUtee8hklEDQogICAgICBkbGRjb29yZGluYXRlOiBudWxsLCAvL+eUtee8huWdkOaghw0KICAgICAgZ2RJRDogIiIsIC8v566h6YGTaWQNCiAgICAgIG1zY29vcmRpbmF0ZTogbnVsbCwgLy/nrqHpgZPlnZDmoIcNCiAgICAgIC8v5Y+W5raI55S157yG5YWz6IGU5Z+L6K6+DQogICAgICBjYW5jZWxkbGdsbXM6IGZhbHNlLCAvL+WPlua2iOWFs+iBlOWfi+iuvg0KICAgICAgY2FuY2VTQklEOiAiIiwgLy/orr7lpIdJRA0KICAgICAgLy/mn6XnnIvln4vorr7liKjpnaLlm74NCiAgICAgIG1haXNoZXBvaHRvczogZmFsc2UsDQogICAgICAvL3Rlc3Qg55S157yGDQogICAgICBkbHRlc3Q6IGZhbHNlLA0KICAgICAgbWVhc3VyZU9iajogbnVsbCwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIC8v56aB5q2i5Y+z6ZSuDQogICAgZG9jdW1lbnQub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9Ow0KDQogICAgdGhpcy5tYXBJbml0Tm9MYXllcigpOyAvL+WcsOWbvuWIneWni+WMlg0KDQogICAgdGhpcy5hZGRQb3AoKTsgLy/ngrnlh7t3ZWLngrnlh7vkuovku7YNCiAgICB0aGlzLmFkZGxpbmUoKTsgLy/lt6Xlhbflm77lsYINCiAgICB0aGlzLmFkZEludGVyYWN0aW9uKCk7DQogICAgdGhpcy5kcWhsaW5lKCk7IC8v55S15rCU5YyW57q/6LevDQogICAgd2luZG93LnVwZGF0ZVdtcyA9IHRoaXMudXBkYXRlV21zOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy/lhajpgInlm77lsYINCiAgICBoYW5kbGVDaGVja0FsbENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMuY2hlY2tlZENpdGllcyA9IHZhbCA/IGNpdHlPcHRpb25zIDogW107DQogICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IGZhbHNlOw0KICAgICAgaWYgKHRoaXMuY2hlY2tlZENpdGllcy5sZW5ndGggPCAxKSB7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53bXN0dWNlbi5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIHRoaXMud21zTGF5ZXJbaV0uc2V0VmlzaWJsZShmYWxzZSk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53bXN0dWNlbi5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIHRoaXMud21zTGF5ZXJbaV0uc2V0VmlzaWJsZSh0cnVlKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy/ljZXkuKrlm77lsYINCiAgICBoYW5kbGVDaGVja2VkQ2l0aWVzQ2hhbmdlKHZhbHVlKSB7DQogICAgICBsZXQgY2hlY2tlZENvdW50ID0gdmFsdWUubGVuZ3RoOw0KICAgICAgdGhpcy5jaGVja0FsbCA9IGNoZWNrZWRDb3VudCA9PT0gdGhpcy5jaXRpZXMubGVuZ3RoOw0KICAgICAgdGhpcy5pc0luZGV0ZXJtaW5hdGUgPQ0KICAgICAgICBjaGVja2VkQ291bnQgPiAwICYmIGNoZWNrZWRDb3VudCA8IHRoaXMuY2l0aWVzLmxlbmd0aDsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY2hlY2tlZENpdGllcywnMicpOw0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5jaGVja2VkQ2l0aWVzLmluZGV4T2YoJ+eUtee8huebtOWfiycpKTsNCg0KICAgICAgaWYgKHRoaXMuY2hlY2tlZENpdGllcy5pbmRleE9mKCLnlLXnvIbnm7Tln4siKSA9PSAtMSkgew0KICAgICAgICB0aGlzLndtc0xheWVyWzEyXS5zZXRWaXNpYmxlKGZhbHNlKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMud21zTGF5ZXJbMTJdLnNldFZpc2libGUodHJ1ZSk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5jaGVja2VkQ2l0aWVzLmluZGV4T2YoIueUtee8hueuoemBk++8iOeuoemBk++8iSIpID09IC0xKSB7DQogICAgICAgIHRoaXMud21zTGF5ZXJbMV0uc2V0VmlzaWJsZShmYWxzZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLndtc0xheWVyWzFdLnNldFZpc2libGUodHJ1ZSk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5jaGVja2VkQ2l0aWVzLmluZGV4T2YoIueUtee8hueuoemBk++8iOi/h+i3r+euoemBk++8iSIpID09IC0xKSB7DQogICAgICAgIHRoaXMud21zTGF5ZXJbMF0uc2V0VmlzaWJsZShmYWxzZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLndtc0xheWVyWzBdLnNldFZpc2libGUodHJ1ZSk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5jaGVja2VkQ2l0aWVzLmluZGV4T2YoIumhtueuoSIpID09IC0xKSB7DQogICAgICAgIHRoaXMud21zTGF5ZXJbOV0uc2V0VmlzaWJsZShmYWxzZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLndtc0xheWVyWzldLnNldFZpc2libGUodHJ1ZSk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5jaGVja2VkQ2l0aWVzLmluZGV4T2YoIueUtee8huaynyIpID09IC0xKSB7DQogICAgICAgIHRoaXMud21zTGF5ZXJbOF0uc2V0VmlzaWJsZShmYWxzZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLndtc0xheWVyWzhdLnNldFZpc2libGUodHJ1ZSk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5jaGVja2VkQ2l0aWVzLmluZGV4T2YoIueUtee8huahpSIpID09IC0xKSB7DQogICAgICAgIHRoaXMud21zTGF5ZXJbN10uc2V0VmlzaWJsZShmYWxzZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLndtc0xheWVyWzddLnNldFZpc2libGUodHJ1ZSk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5jaGVja2VkQ2l0aWVzLmluZGV4T2YoIueUtee8humap+mBkyIpID09IC0xKSB7DQogICAgICAgIHRoaXMud21zTGF5ZXJbNl0uc2V0VmlzaWJsZShmYWxzZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLndtc0xheWVyWzZdLnNldFZpc2libGUodHJ1ZSk7DQogICAgICB9DQoNCiAgICAgIC8vIGZvcih2YXIgaT0wO2k8dGhpcy5jaGVja2VkQ2l0aWVzLmxlbmd0aDtpKyspew0KDQogICAgICAvLyAgIH0NCiAgICB9LA0KICAgIC8v5rWL6YePDQogICAgY2VsaSgpIHsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMubWFwKTsNCiAgICAgIE1lYXN1cmUuaW5pdE1lYXN1cmUodGhpcy5tYXAsICJQb2x5Z29uIik7IC8vIFBvbHlnb24vTGluZVN0cmluZw0KICAgICAgY29uc29sZS5sb2coIua1i+mHjyIpOw0KICAgIH0sDQogICAgLy8g5p+l55yL5YWo5Zu+DQogICAgYWxsdHUoKSB7DQogICAgICB0aGlzLm1hcC5nZXRWaWV3KCkuc2V0Q2VudGVyKFsxMjAuMDUyNDI0NjY5MjY1NzUsIDMyLjQ2MTUwOTcwNDU4OTg0NF0pOw0KICAgICAgdGhpcy5tYXAuZ2V0VmlldygpLnNldFpvb20oMTEpOw0KICAgICAgLy8gLy/ojrflj5blnLDlm77lvZPliY3op4blm74NCiAgICAgIC8vIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTsNCiAgICAgIC8vIC8v5oyH5a6a6KaB5bmz56e75Yiw55qE5L2N572u55qE5Z2Q5qCHDQogICAgICAvLyB2YXIgcG9zaXRpb24gPSBvbC5wcm9qLmZyb21Mb25MYXQoWzEyMC4wNjE2MTkyODE3Njg4LCAzMi40NTczODk4MzE1NDI5N10pOw0KICAgICAgLy8gLy/ph43orr7lnLDlm77kuK3lv4PngrnvvIzlrp7njrDlubPnp7sNCiAgICAgIC8vIHZpZXcuc2V0Q2VudGVyKHBvc2l0aW9uKTsNCiAgICB9LA0KICAgIC8v5Zu+5bGC5o6n5Yi2DQogICAgbGluZXNob3coKSB7DQogICAgICAvLyB0aGlzLndtc0xheWVyLnNldFZpc2libGUodGhpcy53bXNTaG93ID0gIXRoaXMud21zU2hvdykNCiAgICAgIHRoaXMuY2hvZXN0dWMgPSAhdGhpcy5jaG9lc3R1YzsNCiAgICAgIC8vIFdtc0FsbExheWVycy5CKHRoaXMpDQogICAgfSwNCiAgICBkd3MoKSB7DQogICAgICAvLyBjb25zb2xlLmxvZygnZHdzJyk7DQogICAgfSwNCiAgICAvLyDmlL7lpKcNCiAgICBpbnpvb20oKSB7DQogICAgICB2YXIgdmlldyA9IHRoaXMubWFwLmdldFZpZXcoKTsNCiAgICAgIHZhciB6b29tID0gdmlldy5nZXRab29tKCk7DQogICAgICB2aWV3LnNldFpvb20oem9vbSAtIDEpOw0KICAgIH0sDQogICAgLy8g57yp5bCPDQogICAgb3V0em9vbSgpIHsNCiAgICAgIHZhciB2aWV3ID0gdGhpcy5tYXAuZ2V0VmlldygpOw0KICAgICAgLy/ojrflj5blnLDlm77lvZPliY3nvKnmlL7nrYnnuqcNCiAgICAgIHZhciB6b29tID0gdmlldy5nZXRab29tKCk7DQogICAgICAvL+avj+WNleWHu+S4gOasoeWcsOWbvueahOe8qeaUvuetiee6p+WHj+S4gO+8jOS7peWunueOsOWcsOWbvue8qeWwjw0KICAgICAgdmlldy5zZXRab29tKHpvb20gKyAxKTsNCiAgICB9LA0KICAgIC8vIGNoYW5nZShlKSB7ICAvL3Rlc3TnsbvlnosNCiAgICAvLyAgIHRoaXMudHlwZVNlbGVjdGVkID0gZTsNCiAgICAvLyB9LA0KICAgIC8v5Zyw5Zu+5Yid5aeL5YyWDQogICAgbWFwSW5pdE5vTGF5ZXIoKSB7DQogICAgICAvL+WcsOWbvuaYvuekuuWMuuWfn+iMg+WbtO+8iOm7mOiupOe7mTg05Z2Q5qCH57O75pyA5aSn6IyD5Zu077yJDQogICAgICB2YXIgdGlsZUV4dGVudCA9IFstMTgwLjAsIC05MC4wLCAxODAuMCwgOTAuMF07DQogICAgICAvL+WcsOWbvuiMg+WbtA0KICAgICAgdmFyIGV4dGVudCA9IFstMTgwLjAsIC05MC4wLCAxODAuMCwgOTAuMF07DQogICAgICB0aGlzLmppdWZlbmdXTVRTID0gbmV3IG9sLmxheWVyLlRpbGUoew0KICAgICAgICAvL+W5s+mdog0KICAgICAgICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuWFlaKHsNCiAgICAgICAgICBwcm9qZWN0aW9uOiAiRVBTRzo0MzI2IiwNCiAgICAgICAgICB0aWxlR3JpZDogb2wudGlsZWdyaWQuY3JlYXRlWFlaKHsgZXh0ZW50OiBleHRlbnQgfSksDQogICAgICAgICAgdGlsZVVybEZ1bmN0aW9uOiBmdW5jdGlvbiAodGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qKSB7DQogICAgICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgICAiaHR0cDovLzE3Mi4yMy4xOTIuMjAxOjgwODkvWVRHSVMvdG1zL3R6MThkei90ejE4ZHovIiArDQogICAgICAgICAgICAgICIvIiArDQogICAgICAgICAgICAgICh0aWxlQ29vcmRbMF0gLSAxKSArDQogICAgICAgICAgICAgICIvIiArDQogICAgICAgICAgICAgIHRpbGVDb29yZFsxXSArDQogICAgICAgICAgICAgICIvIiArDQogICAgICAgICAgICAgIChNYXRoLnBvdygyLCB0aWxlQ29vcmRbMF0gLSAxKSArIHRpbGVDb29yZFsyXSkgKw0KICAgICAgICAgICAgICAiLlBORyINCiAgICAgICAgICAgICk7DQogICAgICAgICAgfSwNCiAgICAgICAgfSksDQogICAgICB9KTsNCiAgICAgIHRoaXMud3htYXAgPSBuZXcgb2wubGF5ZXIuVGlsZSh7DQogICAgICAgIC8v5Y2r5pifDQogICAgICAgIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5YWVooew0KICAgICAgICAgIHByb2plY3Rpb246ICJFUFNHOjQzMjYiLA0KICAgICAgICAgIHRpbGVHcmlkOiBvbC50aWxlZ3JpZC5jcmVhdGVYWVooeyBleHRlbnQ6IGV4dGVudCB9KSwNCiAgICAgICAgICB0aWxlVXJsRnVuY3Rpb246IGZ1bmN0aW9uICh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2opIHsNCiAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICJodHRwOi8vMTcyLjIzLjE5Mi4yMDE6ODA4OS9ZVEdJUy90bXMvdHoxOHl4L3R6MTh5eC8iICsNCiAgICAgICAgICAgICAgIi8iICsNCiAgICAgICAgICAgICAgKHRpbGVDb29yZFswXSAtIDEpICsNCiAgICAgICAgICAgICAgIi8iICsNCiAgICAgICAgICAgICAgdGlsZUNvb3JkWzFdICsNCiAgICAgICAgICAgICAgIi8iICsNCiAgICAgICAgICAgICAgKE1hdGgucG93KDIsIHRpbGVDb29yZFswXSAtIDEpICsgdGlsZUNvb3JkWzJdKSArDQogICAgICAgICAgICAgICIuUE5HIg0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9LA0KICAgICAgICB9KSwNCiAgICAgICAgdmlzaWJsZTogZmFsc2UsDQogICAgICB9KTsNCiAgICAgIC8v5Yid5aeL5YyW5Zyw5Zu+5a+56LGhDQogICAgICB0aGlzLm1hcCA9IG5ldyBvbC5NYXAoew0KICAgICAgICB0YXJnZXQ6ICJtYXAiLA0KICAgICAgICAvLyBsYXllcnM6IFtdLA0KICAgICAgICBsYXllcnM6IFt0aGlzLmppdWZlbmdXTVRTLCB0aGlzLnd4bWFwXSwNCiAgICAgICAgdmlldzogbmV3IG9sLlZpZXcoew0KICAgICAgICAgIHByb2plY3Rpb246IG9sLnByb2ouZ2V0KCJFUFNHOjQzMjYiKSwNCiAgICAgICAgICBleHRlbnQ6IHRpbGVFeHRlbnQsDQogICAgICAgICAgY2VudGVyOiBbMTE5Ljk1MzMzOSwgMzIuNDY2NjkzXSwNCiAgICAgICAgICB6b29tOiAxNCwNCiAgICAgICAgICBtaW5ab29tOiAxMSwNCiAgICAgICAgICBtYXhab29tOiAyMCwNCiAgICAgICAgfSksDQogICAgICAgIGNvbnRyb2xzOiBvbC5jb250cm9sLmRlZmF1bHRzKHsNCiAgICAgICAgICB6b29tOiBmYWxzZSwNCiAgICAgICAgICByb3RhdGU6IGZhbHNlLA0KICAgICAgICAgIGF0dHJpYnV0aW9uOiBmYWxzZSwNCiAgICAgICAgfSksDQogICAgICB9KTsNCiAgICAgIHdpbmRvdy5tYXAgPSB0aGlzLm1hcDsNCg0KICAgICAgdGhpcy53bXNkaXR1KCk7IC8vd21z5Zu+5bGCDQoNCiAgICAgIC8vIHZhciBjb250ZXh0ID0gbmV3IG9sLm92ZXJsYXkoew0KICAgICAgLy8gICBlbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFwIikNCiAgICAgIC8vIH0pDQogICAgICAvLyB0aGlzLm1hcC5hZGRPdmVybGF5KGNvbnRleHQpDQogICAgICB0aGlzLmNvbnRleHRtZW51KHRoaXMubWFwKTsgLy/lj7PplK4NCiAgICB9LA0KICAgIC8v55S15rCU5YyW57q/6Lev5Zu+5bGCDQogICAgZHFobGluZSgpIHsNCiAgICAgIHZhciBzb3VyY2VEYXRhID0gbmV3IG9sLnNvdXJjZS5JbWFnZVdNUyh7DQogICAgICAgIHVybDogImh0dHA6Ly9mcTIuZ2lzc2VydmVyLmpzLnNnY2MuY29tLmNuOjMyMDgwL2dpc3NlcnZlci9yZXN0L2dpcy9NYXBTZXJ2ZXIvZXhwb3J0L2pzb24iLA0KICAgICAgICBzZXJ2ZXJUeXBlOiAiZ2Vvc2VydmVyIiwNCiAgICAgICAgaW1hZ2VMb2FkRnVuY3Rpb246IGZ1bmN0aW9uIChpbWFnZSwgc3JjKSB7DQogICAgICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc3JjLnNsaWNlKHNyYy5pbmRleE9mKCI/IikpKTsNCiAgICAgICAgICB2YXIgQkJPWCA9IHBhcmFtcy5nZXQoIkJCT1giKS5zcGxpdCgiLCIpOw0KICAgICAgICAgIHZhciBiYm94c3RyID0gQkJPWFsxXSArICIsIiArIEJCT1hbMF0gKyAiLCIgKyBCQk9YWzNdICsgIiwiICsgQkJPWFsyXTsNCiAgICAgICAgICB2YXIgdXJsID0NCiAgICAgICAgICAgICJodHRwOi8vZnEyLmdpc3NlcnZlci5qcy5zZ2NjLmNvbS5jbjozMjA4MC9naXNzZXJ2ZXIvcmVzdC9naXMvTWFwU2VydmVyL2V4cG9ydC9qc29uLz9tYXBJZD0xMTAmZm9ybWF0PXBuZyZsYXllcnM9MTAxMDAwJTJDMTAyMDAwJTJDMTAzMDAwJTJDMTEwMDAwJTJDMTExMDAwJTJDMTEyMDAwJTJDMTEzMDAwJTJDMTE0MDAwJTJDMTE1MDAwJTJDMTE2MDAwJTJDMTE3MDAwJTJDMTE4MDAwJTJDMTE5MDAwJTJDMTIwMDAwJTJDMTIxMDAwJTJDMTMwMDAwJTJDMTQwMDAwJTJDMTUwMDAwJTJDMTYwMDAwJTJDMTcwMDAwJTJDMTgwMDAwJTJDMjAxMDAwJTJDMjAyMDAwJTJDMjAzMDAwJTJDMjA1MDAwJTJDMjA2MDAwJTJDMjA3MDAwJTJDMjA5MDAwJTJDMjEwMDAwJTJDMjIwMDAwJTJDMzAwMDAwJTJDMzAxMDAwJTJDMzAyMDAwJTJDMzAzMDAwJTJDMzA0MDAwJTJDMzA1MDAwJTJDMzA2MDAwJTJDMzA3MDAwJTJDMzA4MDAwJTJDMzA5MDAwJTJDMzExMDAwJTJDMzEyMDAwJTJDMzEzMDAwJTJDMzE0MDAwJTJDMzE1MDAwJTJDMzE2MDAwJTJDMzE3MDAwJTJDMzE4MDAwJTJDMzE5MDAwJTJDMzIwMDAwJTJDMzIxMDAwJTJDMzIyMDAwJTJDMzMwMDAwJTJDMzMzMDAwJTJDMzM5MDAwJTJDMzQwMDAwJTJDMzQ1MDAwJTJDMzUwMDAwJTJDMzYwMDAwJTJDMzYxMDAwJTJDMzcwMDAwJTJDMzkwMDAwJTJDMzkxMDAwJmxheWVyRGVmcz0mZGlzcGxheVNjaGVtYUlkPSZzaXplPTg3MSUyQzYxMiZtYXBTY2FsZT02Mi41NzAxNzAyNTI2NTEzNCZ2ZXJzaW9uSWQ9MCZiYm94PSIgKw0KICAgICAgICAgICAgYmJveHN0ciArDQogICAgICAgICAgICAiJnBvc2l0aW9uPWZyb250JnVwZGF0ZUludGVydmFsPTE1MCZvcGFjaXR5PTEmdmlzaWJsZT10cnVlJmNyb3NzT3JpZ2luPXRydWUmYXR0cmlidXRlPW51bGwmaW50ZXJhY3RpdmU9ZmFsc2UmYWx0PSZuYW1lPWR5bmFtaWNMYXllcjQmc2hvd1JlbmRlclRpbWU9ZmFsc2UmcGFyYW1zPSU1Qm9iamVjdCUyME9iamVjdCU1RCZtYXhab29tPXVuZGVmaW5lZCZtaW5ab29tPXVuZGVmaW5lZCZwYW5lPW92ZXJsYXlQYW5lJm5vbkJ1YmJsaW5nRXZlbnRzPSZhdHRyaWJ1dGlvbj1udWxsIjsNCiAgICAgICAgICBpZiAobWFwLmdldFZpZXcoKS5nZXRab29tKCkgPiAxNykgew0KICAgICAgICAgICAgJC5hamF4KHsNCiAgICAgICAgICAgICAgdXJsOiB1cmwsDQogICAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsDQogICAgICAgICAgICAgIHR5cGU6ICJnZXQiLA0KICAgICAgICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgIGltYWdlLmdldEltYWdlKCkuc3JjID0NCiAgICAgICAgICAgICAgICAgICAgImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiICsgcmVzLnJlc3VsdFZhbHVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlKSB7fSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgIH0pOw0KICAgICAgdGhpcy5kcWhsaW5lZGF0YSA9IG5ldyBvbC5sYXllci5JbWFnZSh7DQogICAgICAgIHNvdXJjZTogc291cmNlRGF0YSwNCiAgICAgIH0pOw0KDQogICAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLmRxaGxpbmVkYXRhKTsNCiAgICB9LA0KICAgIC8vd21z5Zu+5bGCDQogICAgd21zZGl0dSgpIHsNCiAgICAgIC8vIFdtc0FsbExheWVycy5BTExtd3ModGhpcykNCiAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53bXN0dWNlbi5sZW5ndGg7IGkrKykgew0KICAgICAgICAodGhpcy53bXNTb3VyY2VbaV0gPSBuZXcgb2wuc291cmNlLlRpbGVXTVMoew0KICAgICAgICAgIHVybDogImh0dHA6Ly8xNzIuMjMuMTkyLjIwMTo4MDg5L1lUR0lTL3dtcyIsDQogICAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgICBMQVlFUlM6IHRoaXMud21zdHVjZW5baV0sDQogICAgICAgICAgICBWRVJTSU9OOiAiMS4xLjEiLA0KICAgICAgICAgIH0sDQogICAgICAgIH0pKSwNCiAgICAgICAgICAodGhpcy53bXNMYXllcltpXSA9IG5ldyBvbC5sYXllci5UaWxlKHsNCiAgICAgICAgICAgIHpJbmRleDogOSwNCiAgICAgICAgICAgIHNvdXJjZTogdGhpcy53bXNTb3VyY2VbaV0sDQogICAgICAgICAgfSkpOw0KICAgICAgICB0aGlzLm1hcC5hZGRMYXllcih0aGlzLndtc0xheWVyW2ldKTsNCiAgICAgICAgLy8gdGhpcy53bXNMYXllcltpXS5zZXRWaXNpYmxlKGZhbHNlKTsNCiAgICAgIH0NCiAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAgICAgIC8vIHRoaXMud21zTGF5ZXJbMV0uc2V0VmlzaWJsZSh0cnVlKQ0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy53bXNMYXllcik7DQogICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAgICAgIC8vIHdtc+efoumHj+WbvuWxgg0KICAgICAgLy8gKHRoaXMud21zU291cmNlID0gbmV3IG9sLnNvdXJjZS5UaWxlV01TKHsNCiAgICAgIC8vICAgdXJsOiAiaHR0cDovLzE3Mi4yMy4xOTIuMjAxOjgwODkvWVRHSVMvd21zIiwNCiAgICAgIC8vICAgcGFyYW1zOiB7DQogICAgICAvLyAgICAgTEFZRVJTOiAiZGl0dV9EZWZhdWx0IiwNCiAgICAgIC8vICAgICAvLyBMQVlFUlM6dGhpcy53bXNsYXllcnNob3csDQogICAgICAvLyAgICAgVkVSU0lPTjogIjEuMS4xIiwNCiAgICAgIC8vICAgfSwNCiAgICAgIC8vICAgLy8gdHJhbnNpdGlvbjogMCwNCiAgICAgIC8vIH0pKSwNCiAgICAgIC8vICAgLy93bXPnn6Lph4/lm77lsYINCiAgICAgIC8vICAgKHRoaXMud21zTGF5ZXIgPSBuZXcgb2wubGF5ZXIuVGlsZSh7DQogICAgICAvLyAgICAgekluZGV4OiA5LA0KICAgICAgLy8gICAgIHNvdXJjZTogdGhpcy53bXNTb3VyY2UsDQogICAgICAvLyAgIH0pKTsNCiAgICAgIC8vIHRoaXMubWFwLmFkZExheWVyKHRoaXMud21zTGF5ZXIpOw0KICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQogICAgICAvLyB0aGlzLndtc0xheWVyLnNldE1hcCh0aGlzLm1hcCk7IC8v6Z2e5omY566h5bGCIOaYvuekuuacgOS4iumdog0KICAgICAgLy8gdGhpcy53bXNMYXllci5zZXRWaXNpYmxlKGZhbHNlKQ0KICAgIH0sDQogICAgYWRkUG9wKCkgew0KICAgICAgLy/lnLDlm77ngrnlh7vkuovku7YNCiAgICAgIHRoaXMubWFwLm9uKCJjbGljayIsIChldnQpID0+IHsNCiAgICAgICAgdmFyIGNvb2RpbmF0ZSA9IGV2dC5jb29yZGluYXRlOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhjb29kaW5hdGUpOw0KICAgICAgICAvLyDliKTmlq3mmK/lkKbojrflj5bopoHntKDmqKHlvI8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKuafpeivouimgee0oCoqKioqKioqKioqKioNCiAgICAgICAgaWYgKHRoaXMuaXNHZXRSYWR1aXNGZWF0dXJlICE9ICJub25lIikgew0KICAgICAgICAgIGlmICh0aGlzLmlzR2V0UmFkdWlzRmVhdHVyZSA9PSAiUG9pbnQiKSB7DQogICAgICAgICAgICAvL+afpeivoueCuQ0KICAgICAgICAgICAgTWFwTWV0LlF1ZXJ5UG9pbnQoYCR7Y29vZGluYXRlWzBdfSwke2Nvb2RpbmF0ZVsxXX1gLCB0aGlzKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNHZXRSYWR1aXNGZWF0dXJlID09ICJMaW5lU3RyaW5nIikgew0KICAgICAgICAgICAgLy/mn6Xor6Lnur8NCiAgICAgICAgICAgIE1hcE1ldC5RdWVyeUxpbmUoYCR7Y29vZGluYXRlWzBdfSwke2Nvb2RpbmF0ZVsxXX1gLCB0aGlzKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNHZXRSYWR1aXNGZWF0dXJlID09ICJQb2x5Z29uIikgew0KICAgICAgICAgICAgLy/mn6Xor6LmiKrpnaINCiAgICAgICAgICAgIE1hcE1ldC5RdWVyeVBvbHlnb24oYCR7Y29vZGluYXRlWzBdfSwke2Nvb2RpbmF0ZVsxXX1gLCB0aGlzKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNHZXRSYWR1aXNGZWF0dXJlID09ICJDaXJjbGUiKSB7DQogICAgICAgICAgICAvL+afpeivouWfi+iuvuWNleWFgw0KICAgICAgICAgICAgTWFwTWV0LlF1ZXJ5Q2lyY2xlKGAke2Nvb2RpbmF0ZVswXX0sJHtjb29kaW5hdGVbMV19YCwgdGhpcyk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8v5re75Yqg5oiq6Z2i5Z+L6K6+5Y2V5YWDDQogICAgICAgIGlmICh0aGlzLmFkZFBvbHlnb24pIHsNCiAgICAgICAgICBNYXBNZXQuYWRkUG9seWdvbihgJHtjb29kaW5hdGVbMF19LCR7Y29vZGluYXRlWzFdfWAsIHRoaXMpOw0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGAke2Nvb2RpbmF0ZVswXX0sJHtjb29kaW5hdGVbMV19YCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy/mlrDlop7ngrnlm77lsYINCiAgICBhZGRsaW5lKCkgew0KICAgICAgdGhpcy5kcmF3TGF5ZXIuUG9pbnQgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHsNCiAgICAgICAgc291cmNlOiBuZXcgb2wuc291cmNlLlZlY3RvcigpLA0KICAgICAgICBzdHlsZTogbmV3IG9sLnN0eWxlLlN0eWxlKHsNCiAgICAgICAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oew0KICAgICAgICAgICAgLy8gYW5jaG9yOlsgMC41LDAuNV0sIC8v54K55Zu+54mH5YGP56e76YePDQogICAgICAgICAgICAvLyBhbmNob3I6IG1hcmtTZXR0aW5ncy5tYXJrQW5jaG9yLCAvL+eCueWbvueJh+WBj+enu+mHjw0KICAgICAgICAgICAgLy8gICBjcm9zc09yaWdpbjogJ2Fub255bW91cycsDQogICAgICAgICAgICBzcmM6ICJodHRwOi8vMTcyLjIzLjE5Mi4yMDE6ODA4MC9kaXN0L2EucG5nIiwgLy8g5Zu+54mH6Lev5b6EDQogICAgICAgICAgfSksDQogICAgICAgIH0pLA0KICAgICAgfSk7DQogICAgICAvL+aWsOWinue6v+WbvuWxgg0KICAgICAgdGhpcy5kcmF3TGF5ZXIuTGluZVN0cmluZyA9IG5ldyBvbC5sYXllci5WZWN0b3Ioew0KICAgICAgICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuVmVjdG9yKCksDQogICAgICAgIHN0eWxlOiBuZXcgb2wuc3R5bGUuU3R5bGUoew0KICAgICAgICAgIC8vIOiuvue9rue6v+minOiJslzlrr3luqYNCiAgICAgICAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoew0KICAgICAgICAgICAgd2lkdGg6IDMsDQogICAgICAgICAgICBjb2xvcjogInJlZCIsDQogICAgICAgICAgfSksDQogICAgICAgIH0pLA0KICAgICAgfSk7DQogICAgICAvL+aWsOWinumdouWbvuWxgg0KICAgICAgdGhpcy5kcmF3TGF5ZXIuUG9seWdvbiA9IG5ldyBvbC5sYXllci5WZWN0b3Ioew0KICAgICAgICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuVmVjdG9yKCksDQogICAgICAgIHN0eWxlOiBuZXcgb2wuc3R5bGUuU3R5bGUoew0KICAgICAgICAgIC8vIOiuvue9rue6v+minOiJslzlrr3luqYNCiAgICAgICAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoew0KICAgICAgICAgICAgd2lkdGg6IDMsDQogICAgICAgICAgICBjb2xvcjogIiMxMTlhZmYiLA0KICAgICAgICAgIH0pLA0KICAgICAgICAgIC8vIOWbvuW9ouWMuuWfn+WGheminOiJsg0KICAgICAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHsNCiAgICAgICAgICAgIGNvbG9yOiAicmdiYSgyNTUsMjU1LDI1NSwwLjUpIiwNCiAgICAgICAgICB9KSwNCiAgICAgICAgfSksDQogICAgICB9KTsNCiAgICAgIC8v5paw5aKe6Z2i5Zu+5bGCDQogICAgICB0aGlzLmRyYXdMYXllci5DaXJjbGUgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHsNCiAgICAgICAgc291cmNlOiBuZXcgb2wuc291cmNlLlZlY3RvcigpLA0KICAgICAgICBzdHlsZTogbmV3IG9sLnN0eWxlLlN0eWxlKHsNCiAgICAgICAgICAvLyDorr7nva7nur/popzoibJc5a695bqmDQogICAgICAgICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHsNCiAgICAgICAgICAgIHdpZHRoOiAxLA0KICAgICAgICAgICAgY29sb3I6ICJyZWQiLA0KICAgICAgICAgIH0pLA0KICAgICAgICAgIC8vIOWbvuW9ouWMuuWfn+WGheminOiJsg0KICAgICAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHsNCiAgICAgICAgICAgIGNvbG9yOiAieWVsbG93IiwNCiAgICAgICAgICB9KSwNCiAgICAgICAgfSksDQogICAgICB9KTsNCiAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5kcmF3TGF5ZXIpIHsNCiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5kcmF3TGF5ZXJbaV0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/lnLDlm77nu5jliLYgICAgICAgICAgICDmt7vliqDngrnnur/pnaINCiAgICBhZGRJbnRlcmFjdGlvbigpIHsNCiAgICAgIC8v5Zyw5Zu+57uY5Yi2DQogICAgICBpZiAodGhpcy50eXBlU2VsZWN0ZWQgIT09ICJub25lIikgew0KICAgICAgICB0aGlzLmRyYXcgPSBuZXcgb2wuaW50ZXJhY3Rpb24uRHJhdyh7DQogICAgICAgICAgc291cmNlOiB0aGlzLmRyYXdMYXllclt0aGlzLnR5cGVTZWxlY3RlZF0uZ2V0U291cmNlKCksDQogICAgICAgICAgdHlwZTogdGhpcy50eXBlU2VsZWN0ZWQsDQogICAgICAgICAgc3RvcENsaWNrOiB0cnVlLCAvLyDnu5jliLbml7blgZzmraLngrnlh7vkuovku7YNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMubW9kaWZ5ID0gbmV3IG9sLmludGVyYWN0aW9uLk1vZGlmeSh7DQogICAgICAgICAgLy8g57yW6L6R5bel5YW3DQogICAgICAgICAgc291cmNlOiB0aGlzLmRyYXdMYXllclt0aGlzLnR5cGVTZWxlY3RlZF0uZ2V0U291cmNlKCksDQogICAgICAgIH0pOw0KICAgICAgICBtYXAuYWRkSW50ZXJhY3Rpb24odGhpcy5tb2RpZnkpOw0KICAgICAgICB0aGlzLm1hcC5hZGRJbnRlcmFjdGlvbih0aGlzLmRyYXcpOw0KICAgICAgICB0aGlzLnNuYXAgPSBuZXcgb2wuaW50ZXJhY3Rpb24uU25hcCh7DQogICAgICAgICAgc291cmNlOiB0aGlzLmRyYXdMYXllclt0aGlzLnR5cGVTZWxlY3RlZF0uZ2V0U291cmNlKCksDQogICAgICAgIH0pOw0KICAgICAgICBtYXAuYWRkSW50ZXJhY3Rpb24odGhpcy5zbmFwKTsNCiAgICAgICAgLy/mlbDmja7ojrflj5YqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAgICAgICAgdGhpcy5kcmF3Lm9uKCJkcmF3ZW5kIiwgKGUpID0+IHsNCiAgICAgICAgICBpZiAoZS5mZWF0dXJlICE9IG51bGwpIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUuZmVhdHVyZS5nZXRHZW9tZXQNCiAgICAgICAgICAgIHZhciBkYXRhID0gW107DQogICAgICAgICAgICB2YXIgam0gPSBbXTsNCiAgICAgICAgICAgIC8v5re75Yqg54K5KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirmt7vliqDngrnmt7vliqDngrnmt7vliqDngrnmt7vngrnmt7vliqDngrkqKioqKioqKioqKioNCiAgICAgICAgICAgIC8v5aSW6YOoanMgIOWKoOeCuQ0KICAgICAgICAgICAgaWYgKHRoaXMudHlwZVNlbGVjdGVkID09ICJQb2ludCIpIHsNCiAgICAgICAgICAgICAgTWFwTWV0LmFkZFBvaW50KA0KICAgICAgICAgICAgICAgIGUuZmVhdHVyZS5nZXRHZW9tZXRyeSgpLmdldENvb3JkaW5hdGVzKCkudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICAgICB0aGlzDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICh0aGlzLnR5cGVTZWxlY3RlZCA9PSAiTGluZVN0cmluZyIpIHsNCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ+e7mOWItue6vycpOw0KICAgICAgICAgICAgICBNYXBNZXQuYWRkTGluZShlLmZlYXR1cmUuZ2V0R2VvbWV0cnkoKS5nZXRDb29yZGluYXRlcygpLCB0aGlzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIOa3u+WKoOmdoioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirmt7vliqDpnaLmt7vliqDpnaLmt7vliqDpnaLmt7vliqDpnaLliqDpnaIqKioqKioqKioqKioqDQogICAgICAgICAgICBpZiAodGhpcy50eXBlU2VsZWN0ZWQgPT0gIlBvbHlnb24iKSB7DQogICAgICAgICAgICAgIGUuZmVhdHVyZQ0KICAgICAgICAgICAgICAgIC5nZXRHZW9tZXRyeSgpDQogICAgICAgICAgICAgICAgLmdldENvb3JkaW5hdGVzKClbMF0NCiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoZWxlbWVudCkgPT4gew0KICAgICAgICAgICAgICAgICAgam0ucHVzaChlbGVtZW50LnRvU3RyaW5nKCkucmVwbGFjZSgiLCIsICIgIikpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB2YXIgYXJyID0gWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIGRldmljZV90eXBlOiAiZHdzX2dpc19qbV9pbmZvX3BvbHlnb24iLA0KICAgICAgICAgICAgICAgICAgbGlzdDogW3sgY29vcmRpbmF0ZTogam0udG9TdHJpbmcoKSwgYWRkRmxhZzogIjEiIH1dLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIF07DQogICAgICAgICAgICAgIE1hcFJlcS5hZGRQb3AoeyBqc29uT2JqOiBhcnIgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVXbXMoKTsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5Yi35paw5Zu+5bGCDQogICAgdXBkYXRlV21zKCkgew0KICAgICAgY29uc29sZS5sb2coIuWIt+aWsCIpOw0KICAgICAgLy8gZm9yIChsZXQgaSBpbiB0aGlzLmRyYXdMYXllcikgew0KICAgICAgLy8gICB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmRyYXdMYXllcltpXSk7DQogICAgICAvLyB9DQoNCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53bXN0dWNlbi5sZW5ndGg7IGkrKykgew0KICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLndtc3R1Y2VuW2ldKTsNCiAgICAgICAgdGhpcy53bXNTb3VyY2VbaV0udXBkYXRlUGFyYW1zKHsNCiAgICAgICAgICBMQVlFUlM6IHRoaXMud21zdHVjZW5baV0sDQogICAgICAgICAgVkVSU0lPTjogIjEuMS4xIiwNCiAgICAgICAgICBzOiBuZXcgRGF0ZSgpLA0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAgICAgIC8vIHRoaXMud21zU291cmNlLnVwZGF0ZVBhcmFtcyh7DQogICAgICAvLyAgIExBWUVSUzogImRpdHVfRGVmYXVsdCIsDQogICAgICAvLyAgIFZFUlNJT046ICIxLjEuMSIsDQogICAgICAvLyAgIHM6IG5ldyBEYXRlKCksDQogICAgICAvLyB9KTsNCiAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5kcmF3TGF5ZXIpIHsNCiAgICAgICAgdGhpcy5kcmF3TGF5ZXJbaV0uZ2V0U291cmNlKCkuY2xlYXIoKTsNCiAgICAgIH0NCiAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQogICAgICAvLyAgdGhpcy5kcmF3TGF5ZXIuUG9pbnQuZ2V0U291cmNlKCkuY2xlYXIoKQ0KICAgIH0sDQogICAgLy/lgZzmraLnu5jliLYNCiAgICByZW1vdmVJbnRlcmFjdGlvbihhKSB7DQogICAgICB0aGlzLm1hcC5yZW1vdmVJbnRlcmFjdGlvbih0aGlzLmRyYXcpOw0KICAgIH0sDQogICAgLy/lnLDlm77liIfmjaINCiAgICBkaXR1KCkgew0KICAgICAgdGhpcy5kaXR1c2hvdyA9ICF0aGlzLmRpdHVzaG93Ow0KICAgIH0sDQogICAgLy/liIfmjaLlm77lsYINCiAgICBDaGFMYXkodmFsKSB7DQogICAgICB0aGlzLnN0eWxlbWFwID0gdmFsOw0KICAgICAgaWYgKHZhbCA9PSAi5b2x5YOPIikgew0KICAgICAgICB0aGlzLmppdWZlbmdXTVRTLnNldFZpc2libGUoZmFsc2UpOw0KICAgICAgICB0aGlzLnd4bWFwLnNldFZpc2libGUodHJ1ZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnd4bWFwLnNldFZpc2libGUoZmFsc2UpOw0KICAgICAgICB0aGlzLmppdWZlbmdXTVRTLnNldFZpc2libGUodHJ1ZSk7DQogICAgICB9DQogICAgICB0aGlzLmRpdHVzaG93ID0gZmFsc2U7IC8v5Zyw5Zu+5YiH5o2i6I+c5Y2VDQogICAgfSwNCiAgICAvLyDlt6XlhbfnrrENCiAgICB0b29sYm94KCkgew0KICAgICAgdGhpcy50b29sc3R5cGUgPSAhdGhpcy50b29sc3R5cGU7DQogICAgICBpZiAodGhpcy50b29sc3R5cGUpIHsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuY2hvZXN0dWMgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v6I635Y+W6KaB57Sg5L+h5oGv54q25oCBDQogICAgZ2V0UmFkdWlzRmVhdHVyZSh2YWwpIHsNCiAgICAgIHRoaXMuaXNHZXRSYWR1aXNGZWF0dXJlID0gdmFsOw0KICAgIH0sDQogICAgLy/nvJbovpHlrozmiJDojrflj5bmlbDmja4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq6I635Y+W57yW6L6R5ZCO55qE5pWw5o2uKioqKioqKioqKioqKioqKioqKioqDQogICAgZ2V0RmVhdHVyZSgpIHsNCiAgICAgIE9iamVjdC52YWx1ZXModGhpcy5kcmF3TGF5ZXIpLmZvckVhY2goKGVsZW1lbnQpID0+IHsNCiAgICAgICAgbGV0IGZlYXR1cmVzID0gZWxlbWVudC5nZXRTb3VyY2UoKS5nZXRGZWF0dXJlcygpOw0KICAgICAgICBmZWF0dXJlcy5mb3JFYWNoKChlbGVtZW50MSkgPT4gew0KICAgICAgICAgIHRoaXMuZ2pjb29yZGluYXRlID0gZWxlbWVudDEuZ2V0R2VvbWV0cnkoKS5nZXRDb29yZGluYXRlcygpOw0KICAgICAgICAgIHRoaXMuTW92Z2pjb29yZGluYXRlaWQgPSBlbGVtZW50MS5jOyAvL2lkDQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAvL+aLluWKqOS6pOS6kg0KICAgIGFkZE1vdmVJbnRlcmFjdGlvbigpIHsNCiAgICAgIHZhciBhcHAgPSB7fTsNCiAgICAgIC8qKg0KICAgICAgICogQGNvbnN0cnVjdG9yDQogICAgICAgKiBAZXh0ZW5kcyB7b2wuaW50ZXJhY3Rpb24uUG9pbnRlcn0NCiAgICAgICAqLw0KICAgICAgYXBwLkRyYWcgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIG9sLmludGVyYWN0aW9uLlBvaW50ZXIuY2FsbCh0aGlzLCB7DQogICAgICAgICAgaGFuZGxlRG93bkV2ZW50OiBhcHAuRHJhZy5wcm90b3R5cGUuaGFuZGxlRG93bkV2ZW50LA0KICAgICAgICAgIGhhbmRsZURyYWdFdmVudDogYXBwLkRyYWcucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCwNCiAgICAgICAgICBoYW5kbGVNb3ZlRXZlbnQ6IGFwcC5EcmFnLnByb3RvdHlwZS5oYW5kbGVNb3ZlRXZlbnQsDQogICAgICAgICAgaGFuZGxlVXBFdmVudDogYXBwLkRyYWcucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQsDQogICAgICAgIH0pOw0KICAgICAgICAvKioNCiAgICAgICAgICogQHR5cGUge29sLlBpeGVsfQ0KICAgICAgICAgKiBAcHJpdmF0ZQ0KICAgICAgICAgKi8NCiAgICAgICAgdGhpcy5jb29yZGluYXRlXyA9IG51bGw7DQogICAgICAgIC8qKg0KICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH0NCiAgICAgICAgICogQHByaXZhdGUNCiAgICAgICAgICovDQogICAgICAgIHRoaXMuY3Vyc29yXyA9ICJwb2ludGVyIjsNCiAgICAgICAgLyoqDQogICAgICAgICAqIEB0eXBlIHtvbC5GZWF0dXJlfQ0KICAgICAgICAgKiBAcHJpdmF0ZQ0KICAgICAgICAgKi8NCiAgICAgICAgdGhpcy5mZWF0dXJlXyA9IG51bGw7DQogICAgICAgIC8qKg0KICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH0NCiAgICAgICAgICogQHByaXZhdGUNCiAgICAgICAgICovDQogICAgICAgIHRoaXMucHJldmlvdXNDdXJzb3JfID0gdW5kZWZpbmVkOw0KICAgICAgfTsNCiAgICAgIG9sLmluaGVyaXRzKGFwcC5EcmFnLCBvbC5pbnRlcmFjdGlvbi5Qb2ludGVyKTsNCiAgICAgIC8qKg0KICAgICAgICogQHBhcmFtIHtvbC5NYXBCcm93c2VyRXZlbnR9IGV2dCBNYXAgYnJvd3NlciBldmVudC4NCiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCB0byBzdGFydCB0aGUgZHJhZyBzZXF1ZW5jZS4NCiAgICAgICAqLw0KICAgICAgYXBwLkRyYWcucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChldnQpIHsNCiAgICAgICAgdmFyIG1hcCA9IGV2dC5tYXA7DQogICAgICAgIHZhciBmZWF0dXJlID0gbWFwLmZvckVhY2hGZWF0dXJlQXRQaXhlbChldnQucGl4ZWwsIGZ1bmN0aW9uIChmZWF0dXJlKSB7DQogICAgICAgICAgcmV0dXJuIGZlYXR1cmU7DQogICAgICAgIH0pOw0KDQogICAgICAgIGlmIChmZWF0dXJlKSB7DQogICAgICAgICAgdGhpcy5jb29yZGluYXRlXyA9IGV2dC5jb29yZGluYXRlOw0KICAgICAgICAgIHRoaXMuZmVhdHVyZV8gPSBmZWF0dXJlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuICEhZmVhdHVyZTsNCiAgICAgIH07DQogICAgICAvKioNCiAgICAgICAqIEBwYXJhbSB7b2wuTWFwQnJvd3NlckV2ZW50fSBldnQgTWFwIGJyb3dzZXIgZXZlbnQuDQogICAgICAgKi8NCiAgICAgIGFwcC5EcmFnLnByb3RvdHlwZS5oYW5kbGVEcmFnRXZlbnQgPSBmdW5jdGlvbiAoZXZ0KSB7DQogICAgICAgIHZhciBkZWx0YVggPSBldnQuY29vcmRpbmF0ZVswXSAtIHRoaXMuY29vcmRpbmF0ZV9bMF07DQogICAgICAgIHZhciBkZWx0YVkgPSBldnQuY29vcmRpbmF0ZVsxXSAtIHRoaXMuY29vcmRpbmF0ZV9bMV07DQoNCiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5mZWF0dXJlXy5nZXRHZW9tZXRyeSgpOw0KICAgICAgICBnZW9tZXRyeS50cmFuc2xhdGUoZGVsdGFYLCBkZWx0YVkpOw0KDQogICAgICAgIHRoaXMuY29vcmRpbmF0ZV9bMF0gPSBldnQuY29vcmRpbmF0ZVswXTsNCiAgICAgICAgdGhpcy5jb29yZGluYXRlX1sxXSA9IGV2dC5jb29yZGluYXRlWzFdOw0KICAgICAgfTsNCiAgICAgIC8qKg0KICAgICAgICogQHBhcmFtIHtvbC5NYXBCcm93c2VyRXZlbnR9IGV2dCBFdmVudC4NCiAgICAgICAqLw0KICAgICAgYXBwLkRyYWcucHJvdG90eXBlLmhhbmRsZU1vdmVFdmVudCA9IGZ1bmN0aW9uIChldnQpIHsNCiAgICAgICAgaWYgKHRoaXMuY3Vyc29yXykgew0KICAgICAgICAgIHZhciBtYXAgPSBldnQubWFwOw0KICAgICAgICAgIHZhciBmZWF0dXJlID0gbWFwLmZvckVhY2hGZWF0dXJlQXRQaXhlbCgNCiAgICAgICAgICAgIGV2dC5waXhlbCwNCiAgICAgICAgICAgIGZ1bmN0aW9uIChmZWF0dXJlKSB7DQogICAgICAgICAgICAgIHJldHVybiBmZWF0dXJlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICk7DQogICAgICAgICAgdmFyIGVsZW1lbnQgPSBldnQubWFwLmdldFRhcmdldEVsZW1lbnQoKTsNCiAgICAgICAgICBpZiAoZmVhdHVyZSkgew0KICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUuY3Vyc29yICE9IHRoaXMuY3Vyc29yXykgew0KICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzQ3Vyc29yXyA9IGVsZW1lbnQuc3R5bGUuY3Vyc29yOw0KICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmN1cnNvciA9IHRoaXMuY3Vyc29yXzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldmlvdXNDdXJzb3JfICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuY3Vyc29yID0gdGhpcy5wcmV2aW91c0N1cnNvcl87DQogICAgICAgICAgICB0aGlzLnByZXZpb3VzQ3Vyc29yXyA9IHVuZGVmaW5lZDsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH07DQogICAgICAvKioNCiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCB0aGUgZHJhZyBzZXF1ZW5jZS4NCiAgICAgICAqLw0KICAgICAgdmFyIHRoYXQgPSB0aGlzOw0KICAgICAgYXBwLkRyYWcucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIC8v5ouW5Yqo5Zue6LCDDQogICAgICAgIC8vIGNvbnNvbGUubG9nKCfmi5bliqgnKTsqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirmi5bliqjlrozlkI7op6blj5EqKioqKioNCiAgICAgICAgaWYgKHRoYXQuaXNHZXRSYWR1aXNGZWF0dXJlID09ICJQb2ludCIpIHsNCiAgICAgICAgICB0aGF0LmdldEZlYXR1cmUoKTsgLy/ojrflj5bnp7vliqjmlbDmja4NCiAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMuZ2pjb29yZGluYXRlLnRvU3RyaW5nKCkucmVwbGFjZSgiLCIsIiAiKSk7DQogICAgICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLmdqcmlkKTsNCiAgICAgICAgICB2YXIgYXJyID0gWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBkZXZpY2VfdHlwZTogImR3c19naXNfZ2pfaW5mb19wb2ludCIsDQogICAgICAgICAgICAgIGxpc3Q6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICByaWQ6IHRoYXQuZ2pyaWQsDQogICAgICAgICAgICAgICAgICBjb29yZGluYXRlOiB0aGF0LmdqY29vcmRpbmF0ZS50b1N0cmluZygpLnJlcGxhY2UoIiwiLCAiICIpLA0KICAgICAgICAgICAgICAgICAgYWRkRmxhZzogIjIiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIF0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgIF07DQogICAgICAgICAgTWFwUmVxLmNoYW5nZWRQb2ludCh7IGpzb25PYmo6IGFyciB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEuZGF0YS5kd3NfZ2lzX2dqX2luZm9fcG9pbnQpOw0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGEuZGF0YS5kd3NfZ2lzX2dqX2luZm9fcG9pbnQudG90YWxVcGRhdGVkID09ICIxIikgew0KICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlKHsgbWVzc2FnZTogIuenu+WKqOaIkOWKnyIsIHR5cGU6ICJzdWNjZXNzIiB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoYXQudXBkYXRlV21zKCk7IC8v5Yi35pawDQogICAgICAgICAgICB0aGF0LmlzR2V0UmFkdWlzRmVhdHVyZSA9ICJub25lIjsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICAvLyAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirlj7PplK7kv67mlLnngrkqKioqKioqKioqKioqKioqKioqKioqKg0KICAgICAgICB9DQoNCiAgICAgICAgLy/np7vliqjorr7lpIfnvJbovpHoioLngrkNCiAgICAgICAgdGhhdC5nZXRGZWF0dXJlKCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoYXQuZ2pjb29yZGluYXRlKTsNCiAgICAgICAgaWYgKHRoYXQubm9kZWNvbXApIHsNCiAgICAgICAgICBNYXBNZXQuY2hhbmdlZExpbmVQb2ludCgNCiAgICAgICAgICAgIHRoYXQuZ2pjb29yZGluYXRlLA0KICAgICAgICAgICAgdGhhdC5Nb3ZnamNvb3JkaW5hdGVpZCwNCiAgICAgICAgICAgIHRoYXQNCiAgICAgICAgICApOw0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy5jb29yZGluYXRlXyA9IG51bGw7DQogICAgICAgIHRoaXMuZmVhdHVyZV8gPSBudWxsOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9Ow0KICAgICAgdGhpcy5hcHBEID0gbmV3IGFwcC5EcmFnKCk7DQogICAgICB0aGlzLm1hcC5hZGRJbnRlcmFjdGlvbih0aGlzLmFwcEQpOw0KICAgIH0sDQogICAgLy/lj5bmtojmi5bliqjkuqTkupINCiAgICByZW1vdmVNb3ZlSW50ZXJhY3Rpb24oKSB7DQogICAgICB0aGlzLm1hcC5yZW1vdmVJbnRlcmFjdGlvbih0aGlzLmFwcEQpOw0KICAgIH0sDQogICAgLy/pvKDmoIflj7PplK4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirlj7PplK4qKioqKioqKioqKioqDQogICAgY29udGV4dG1lbnUobWFwKSB7DQogICAgICB2YXIgdGhhdCA9IHRoaXM7DQogICAgICAkKG1hcC5nZXRWaWV3cG9ydCgpKS5vbigiY29udGV4dG1lbnUiLCBmdW5jdGlvbiAoZXZlbnQpIHsNCiAgICAgICAgLy8gdmFyIGNvb3JkaW5hdGUgPSBtYXAuZ2V0RXZlbnRDb29yZGluYXRlKGV2ZW50Lm9yaWdpbmFsRXZlbnQpDQogICAgICAgIC8vIGNvbnRleHQuc2V0UG9zaXRpb24oY29vcmRpbmF0ZSkNCiAgICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQub3JpZ2luYWxFdmVudCk7DQogICAgICAgIC8vICDlj7PplK7lj5bmtojnu5jnlLsNCiAgICAgICAgLy8gdGhhdC5yZW1vdmVJbnRlcmFjdGlvbigpOw0KICAgICAgICAvLyAgdGhhdC51cGRhdGVXbXMoKTsgLy/liLfmlrANCiAgICAgICAgLy8gIGNvbnNvbGUubG9nKGV2ZW50KTsNCiAgICAgICAgLy8gIHRoYXQuY2VudGVyRGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirlj7PplK7kv67mlLnngrkqKioqKioqKioqKioqKioqKioqKioqKg0KICAgICAgICAvLyBpZiAodGhhdC5pc0dldFJhZHVpc0ZlYXR1cmUgPT0gIlBvaW50Iikgew0KICAgICAgICAvLyAgIHRoYXQuZ2V0RmVhdHVyZSgpOyAvL+iOt+WPluenu+WKqOaVsOaNrg0KICAgICAgICAvLyAgIC8vIGNvbnNvbGUubG9nKHRoYXQuZ2pjb29yZGluYXRlLnRvU3RyaW5nKCkucmVwbGFjZSgiLCIsIiAiKSk7DQogICAgICAgIC8vICAgLy8gY29uc29sZS5sb2codGhhdC5nanJpZCk7DQogICAgICAgIC8vICAgdmFyIGFyciA9IFt7ZGV2aWNlX3R5cGU6ICJkd3NfZ2lzX2dqX3ZvX3BvaW50IixsaXN0OiBbe3JpZDogdGhhdC5nanJpZCxjb29yZGluYXRlOiB0aGF0LmdqY29vcmRpbmF0ZS50b1N0cmluZygpLnJlcGxhY2UoIiwiLCAiICIpLGFkZEZsYWc6ICIyIix9LF0sfSxdOw0KICAgICAgICAvLyAgIE1hcFJlcS5jaGFuZ2VkUG9pbnQoeyBqc29uT2JqOiBhcnIgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIC8vICAgICBpZiAocmVzLmRhdGEuZGF0YS5kYXRhLmR3c19naXNfZ2pfdm9fcG9pbnQudG90YWxVcGRhdGVkID09ICIxIikgew0KICAgICAgICAvLyAgICAgICB0aGF0LiRtZXNzYWdlKHsgbWVzc2FnZTogIuenu+WKqOaIkOWKnyIsIHR5cGU6ICJzdWNjZXNzIiB9KTsNCiAgICAgICAgLy8gICAgIH0NCg0KICAgICAgICAvLyAgICAgdGhhdC5pc0dldFJhZHVpc0ZlYXR1cmUgPSAnbm9uZScNCiAgICAgICAgLy8gICB9KTsNCiAgICAgICAgLy8gICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq5Y+z6ZSu5L+u5pS554K5KioqKioqKioqKioqKioqKioqKioqKioNCiAgICAgICAgLy8gfQ0KICAgICAgICAvLyAgZWxzZSBpZiAodGhhdC5pc0dldFJhZHVpc0ZlYXR1cmUgPT0gIkxpbmVTdHJpbmciKSB7DQogICAgICAgIC8vICAgLy8gdGhhdC50eXBlU2VsZWN0ZWQgPSAnTGluZVN0cmluZycNCiAgICAgICAgLy8gICAvLyBjb25zb2xlLmxvZygnTGluZVN0cmluZycpOw0KICAgICAgICAvLyB9DQogICAgICAgIC8v5Yig6Zmk5bel5LqVDQogICAgICAgIGlmICh0aGF0LmRlbGVQb2ludCkgew0KICAgICAgICAgIHRoYXQuJG1lc3NhZ2UoeyBtZXNzYWdlOiAi5YGc5q2i5Yig6ZmkIiwgdHlwZTogInN1Y2Nlc3MiIH0pOw0KICAgICAgICAgIHRoYXQuZGVsZVBvaW50ID0gZmFsc2U7DQogICAgICAgICAgdGhhdC5pc0dldFJhZHVpc0ZlYXR1cmUgPSAibm9uZSI7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQogIHdhdGNoOiB7DQogICAgLy/ln4vorr7mlrnlvI/kvKDov4fmnaXnmoTmlbDmja4NCiAgICBmb3JtRGF0YTogew0KICAgICAgaGFuZGxlcihEYXRhKSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKERhdGEpOw0KICAgICAgICAvL+WAvOS8oOe7mW1hcC5qcw0KICAgICAgICBNYXBNZXQuZnJvbWRhdGFmdW4oRGF0YSk7IC8v5Lyg5YC857uZbWFwLmpzDQogICAgICB9LA0KICAgICAgZGVlcDogdHJ1ZSwNCiAgICAgIGltbWVkaWF0ZTogZmFsc2UsDQogICAgfSwNCiAgICAvL+aIqumdouS8oOi/h+adpeeahOaVsOaNrg0KICAgIGptbWJzbDogew0KICAgICAgaGFuZGxlcihkYXRhKSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEsJ+aIqumdoicpOw0KICAgICAgICBNYXBNZXQuam1mcm9tZGF0YWZ1bihkYXRhKTsgLy/kvKDlgLznu5ltYXAuanMNCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiBmYWxzZSwNCiAgICB9LA0KICAgIC8v5bel5LqV5Lyg6L+H5p2l55qE5pWw5o2uDQogICAgZ2pkYXRhbmFtZTogew0KICAgICAgaGFuZGxlcihkYXRhKSB7fSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IGZhbHNlLA0KICAgIH0sDQogICAgLy/nu5jnlLvnsbvlnosg6LCD55SoDQogICAgdHlwZVNlbGVjdGVkKHZhbCkgew0KICAgICAgdGhpcy5yZW1vdmVJbnRlcmFjdGlvbigpOyAvL+WBnOatoue7mOeUuw0KICAgICAgdGhpcy5hZGRJbnRlcmFjdGlvbigpOyAvL+WcsOWbvue7mOeUuw0KICAgIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgLy8gTWFwTWV0LnNvbWVkYXRhKHRoaXMpDQogICAgLy8gQnVzLiRvbigibHNpdElkIiwgKGUpID0+IHsNCiAgICAvLyBjb25zb2xlLmxvZyhlKTsNCiAgICAvLyBpZiAoZSA9PSAxKSB7DQogICAgLy8gICAvL+enu+WKqOiuvuWkhw0KICAgIC8vICAgdGhpcy5yZW1vdmVJbnRlcmFjdGlvbigpDQogICAgLy8gICB0aGlzLnR5cGVTZWxlY3RlZCA9ICdub25lJw0KICAgIC8vICAgdGhpcy5pc0dldFJhZHVpc0ZlYXR1cmUgPSAnUG9pbnQnDQogICAgLy8gICB0aGlzLmFkZE1vdmVJbnRlcmFjdGlvbigpDQogICAgLy8gfWVsc2UgaWYoZSA9PTQgKXsNCiAgICAvLyAgIGNvbnNvbGUubG9nKCfliKDpmaTorr7lpIcnKTsNCiAgICAvLyAgIHRoaXMuaXNHZXRSYWR1aXNGZWF0dXJlID0gJ1BvaW50Jw0KICAgIC8vICAgLy/liKDpmaTliKTmlq0NCiAgICAvLyAgIHRoaXMuZGVsZVBvaW50ID0gdHJ1ZQ0KICAgIC8vIH1lbHNlIGlmKGUgPT0gNil7DQogICAgLy8gICAvL+iKgueCuee8lui+kQ0KICAgIC8vICAgdGhpcy5yZW1vdmVJbnRlcmFjdGlvbigpDQogICAgLy8gICAgdGhpcy51cGRhdGVXbXMoKSAvL+WIt+aWsA0KICAgIC8vICAgIHRoaXMuaXNHZXRSYWR1aXNGZWF0dXJlID0gJ0xpbmVTdHJpbmcnDQogICAgLy8gICAgdGhpcy5yZW1vdmVNb3ZlSW50ZXJhY3Rpb24oKSAvL+WBnOatouaLluWKqA0KICAgIC8vICAgIHRoaXMubm9kZWNvbXAgPSB0cnVlDQogICAgLy8gfWVsc2UgaWYoZSA9PSA3KXsNCiAgICAvLyAgIC8v5re75Yqg5oiq6Z2iDQogICAgLy8gICAvLyAgdGhpcy5yZW1vdmVJbnRlcmFjdGlvbigpDQogICAgLy8gICAgdGhpcy5pc0dldFJhZHVpc0ZlYXR1cmUgPSAnTGluZVN0cmluZycNCiAgICAvLyAgICB0aGlzLmFkZFBvbHlnb24gPSB0cnVlDQogICAgLy8gfQ0KICAgIC8vIH0pOw0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkge30sDQp9Ow0K"},{"version":3,"sources":["map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"map.vue","sourceRoot":"src/components/part","sourcesContent":["<template>\r\n  <div class=\"Mapp\">\r\n    <el-collapse-transition>\r\n      <div class=\"chooesclick\" v-show=\"choestuc\">\r\n        <span class=\"chooestuc\">选择图层</span><br />\r\n        <el-checkbox\r\n          :indeterminate=\"isIndeterminate\"\r\n          v-model=\"checkAll\"\r\n          @change=\"handleCheckAllChange\"\r\n          >全选</el-checkbox\r\n        >\r\n        <div style=\"margin: 15px 0\"></div>\r\n\r\n        <el-checkbox-group\r\n          v-model=\"checkedCities\"\r\n          @change=\"handleCheckedCitiesChange\"\r\n        >\r\n          <el-checkbox v-for=\"city in cities\" :label=\"city\" :key=\"city\">{{\r\n            city\r\n          }}</el-checkbox>\r\n        </el-checkbox-group>\r\n      </div>\r\n    </el-collapse-transition>\r\n\r\n    <div id=\"map\" />\r\n    <div class=\"allchoos\">\r\n      <div class=\"ChanLay\" @click=\"ditu\">\r\n        <img v-if=\"!ditushow\" src=\"@/assets/img/gongju_bg_def.png\" />\r\n        <img v-if=\"ditushow\" src=\"@/assets/img/gongju_bg_celect.png\" />\r\n      </div>\r\n      <div class=\"choose\" v-show=\"ditushow\">\r\n        <div @click=\"ChaLay('影像')\">\r\n          <img src=\"@/assets/img/yingxinag_pic.png\" />\r\n        </div>\r\n        <div @click=\"ChaLay('地图')\">\r\n          <img src=\"@/assets/img/ditu_pic.png\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"toolbox\">\r\n      <div @click=\"toolbox\">\r\n        <img\r\n          v-show=\"!this.toolstype\"\r\n          src=\"@/assets/img/gongjuxiang_btn_def.png\"\r\n        />\r\n        <img\r\n          v-show=\"this.toolstype\"\r\n          src=\"@/assets/img/gongjuxiang_btn_select.png\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <el-collapse-transition>\r\n          <ul v-show=\"this.toolstype\">\r\n            <li><img src=\"../../assets/img/icon_gaoliang.png\" /> 清除高亮</li>\r\n            <li @click=\"outzoom\">\r\n              <img src=\"../../assets/img/icon_fangda.png\" /> 地图放大\r\n            </li>\r\n            <li @click=\"inzoom\">\r\n              <img src=\"../../assets/img/icon_suoxiao.png\" /> 地图缩小\r\n            </li>\r\n            <li @click=\"alltu\">\r\n              <img src=\"../../assets/img/icon_quantu.png\" /> 全图\r\n            </li>\r\n            <li @click=\"celi\">\r\n              <img src=\"../../assets/img/icon_liangju.png\" /> 量具\r\n            </li>\r\n            <li><img src=\"../../assets/img/icon_dayin.png\" /> 区域打印</li>\r\n            <li><img src=\"../../assets/img/icon_dingwei.png\" />坐标定位</li>\r\n            <li><img src=\"../../assets/img/icon_zhuanhuan.png\" />坐标转换</li>\r\n            <li @click=\"lineshow\">\r\n              <img src=\"../../assets/img/icon_tuceng.png\" />图层控制\r\n            </li>\r\n            <li><img src=\"../../assets/img/icon_tuceng.png\" />当前电缆</li>\r\n            <li><img src=\"../../assets/img/icon_tuceng.png\" />管道走向</li>\r\n            <li><img src=\"../../assets/img/icon_tuceng.png\" />截面归属</li>\r\n          </ul>\r\n        </el-collapse-transition>\r\n      </div>\r\n    </div>\r\n    <div class=\"dws\">\r\n      <button @click=\"updateWms\">刷新</button>\r\n      <!-- <button @click=\"change('none')\">无</button>\r\n      <button @click=\"change('Point')\">点</button>\r\n      <button @click=\"change('LineString')\">线</button>\r\n      <button @click=\"change('Polygon')\">面</button>\r\n      <button @click=\"change('Circle')\">圆</button>\r\n      <br />\r\n      <button @click=\"getRaduisFeature('none')\">停止查询</button>\r\n      <button @click=\"getRaduisFeature('Point')\">查询点</button>\r\n      <button @click=\"getRaduisFeature('LineString')\">查询线</button>\r\n      <button @click=\"getRaduisFeature('Polygon')\">查询面</button>\r\n      <button @click=\"getRaduisFeature('Circle')\">查询埋设单元</button>\r\n      <br />\r\n      <button @click=\"getFeature\">查询编辑要素</button>\r\n      <br />\r\n      <button @click=\"addMoveInteraction\">拖拽要素</button>\r\n      <br />\r\n      <button @click=\"removeMoveInteraction\">取消拖拽要素</button>-->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"ol/ol.css\";\r\nimport ol from \"openlayers\";\r\nimport { getArea, getLength } from \"ol/sphere.js\";\r\nimport { unByKey } from \"ol/Observable.js\";\r\nimport $ from \"jquery\";\r\n// import Bus from \"@/Bus/bus.js\";\r\nimport MapReq from \"@/api/mutually.js\";\r\n// import addPolygonVue from \"../dialog/addPolygon.vue\";\r\n//地图方法\r\nimport MapMet from \"../../assets/mapMethod/map.js\";\r\nimport Measure from \"../../assets/mapMethod/measureArea.js\";\r\n//循环wms图层\r\n// import WmsAllLayers from \"../../assets/mapMethod/wmsLayers.js\"\r\nconst cityOptions = [\r\n  \"电缆直埋\",\r\n  \"电缆管道（管道）\",\r\n  \"电缆管道（过路管道）\",\r\n  \"顶管\",\r\n  \"电缆沟\",\r\n  \"电缆桥\",\r\n  \"电缆隧道\",\r\n];\r\nexport default {\r\n  props: {\r\n    formData: {\r\n      //添加类型\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    jmmbsl: {\r\n      //截面模板\r\n      type: Object,\r\n      default() {\r\n        // return {};\r\n      },\r\n    },\r\n    gjdataname: {\r\n      //截面模板\r\n      type: Object,\r\n      default() {\r\n        // return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      checkAll: true,\r\n      checkedCities: [\r\n        \"电缆直埋\",\r\n        \"电缆管道（管道）\",\r\n        \"电缆管道（过路管道）\",\r\n        \"顶管\",\r\n        \"电缆沟\",\r\n        \"电缆桥\",\r\n        \"电缆隧道\",\r\n      ],\r\n      cities: cityOptions,\r\n      isIndeterminate: false,\r\n      wmstucen: [\r\n        \"ditu_dlsyd_info_point_Default\", //红点点\r\n        \"ditu_dlgd_info_line_Default\", //电缆管道\r\n        \"ditu_jm_foot_line_Default\", //截面引脚\r\n\r\n        \"ditu_dljt_info_point_Default\",\r\n        \"ditu_dld_info_line_Default\",\r\n        \"ditu_dl_info_line_Default\",\r\n\r\n        \"ditu_dlsd_info_line_Default\",\r\n        \"ditu_dlq_info_line_Default\",\r\n        \"ditu_dlg_info_line_Default\",\r\n\r\n        \"ditu_dgsb_info_line_Default\",\r\n        \"ditu_dlgd_info_line_Default\",\r\n        \"ditu_gdsb_info_line_Default\",\r\n\r\n        \"ditu_zmsb_info_line_Default\",\r\n        \"ditu_zmdy_info_polygon_Default\",\r\n        \"ditu_jm_info_polygon_Default\",\r\n        \"ditu_gj_info_point_Default\",\r\n      ],\r\n      // centerDialogVisible: true,//确认弹窗\r\n      choestuc: false, //切换\r\n\r\n      ditushow: false, //图层切换\r\n      toolstype: false, //工具箱\r\n      map: null, //地图\r\n      wmsLayer: {}, //矢量\r\n      wmsSource: {}, //矢量图图层\r\n      wxmap: {}, //卫星\r\n      jiufengWMTS: {}, //2D\r\n      drawLayer: {},\r\n      appD: null,\r\n      draw: null,\r\n      modify: null,\r\n      snap: null,\r\n      typeSelected: \"none\", //地图绘画类型\r\n      isGetRaduisFeature: \"none\", //查看类型\r\n      dqhlinedata: null, //电气化线路图层\r\n      //wms图层控制\r\n      // wmslayershow:'ditu_Default',\r\n      wmsShow: true,\r\n\r\n      //修改工井\r\n      gjrid: \"\",\r\n      gjcoordinate: \"\",\r\n      Movgjcoordinateid: \"\", //编辑节点储存id\r\n      // changPoint:false,  //修改点\r\n      //添加截面\r\n      addPolygon: false,\r\n      gdCoordinate: \"\", //管道坐标\r\n      coordinate: \"\", // 空地坐标\r\n      jmgdmc: \"\", //管道名称\r\n\r\n      //删除工井\r\n      delePoint: false,\r\n      //节点编辑状态\r\n      nodecomp: false,\r\n      //绘制两端加点\r\n      bothPoint: true,\r\n\r\n      //电缆关联埋设\r\n      dlglms: false,\r\n      dldowngd: \"dl\", //查询完电缆，查询管道\r\n      dlid: \"\", //电缆ID\r\n      dldcoordinate: null, //电缆坐标\r\n      gdID: \"\", //管道id\r\n      mscoordinate: null, //管道坐标\r\n      //取消电缆关联埋设\r\n      canceldlglms: false, //取消关联埋设\r\n      canceSBID: \"\", //设备ID\r\n      //查看埋设刨面图\r\n      maishepohtos: false,\r\n      //test 电缆\r\n      dltest: false,\r\n      measureObj: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    //禁止右键\r\n    document.oncontextmenu = function () {\r\n      return false;\r\n    };\r\n\r\n    this.mapInitNoLayer(); //地图初始化\r\n\r\n    this.addPop(); //点击web点击事件\r\n    this.addline(); //工具图层\r\n    this.addInteraction();\r\n    this.dqhline(); //电气化线路\r\n    window.updateWms = this.updateWms;\r\n  },\r\n  methods: {\r\n    //全选图层\r\n    handleCheckAllChange(val) {\r\n      this.checkedCities = val ? cityOptions : [];\r\n      this.isIndeterminate = false;\r\n      if (this.checkedCities.length < 1) {\r\n        for (var i = 0; i < this.wmstucen.length; i++) {\r\n          this.wmsLayer[i].setVisible(false);\r\n        }\r\n      } else {\r\n        for (var i = 0; i < this.wmstucen.length; i++) {\r\n          this.wmsLayer[i].setVisible(true);\r\n        }\r\n      }\r\n    },\r\n    //单个图层\r\n    handleCheckedCitiesChange(value) {\r\n      let checkedCount = value.length;\r\n      this.checkAll = checkedCount === this.cities.length;\r\n      this.isIndeterminate =\r\n        checkedCount > 0 && checkedCount < this.cities.length;\r\n      // console.log(this.checkedCities,'2');\r\n      // console.log(this.checkedCities.indexOf('电缆直埋'));\r\n\r\n      if (this.checkedCities.indexOf(\"电缆直埋\") == -1) {\r\n        this.wmsLayer[12].setVisible(false);\r\n      } else {\r\n        this.wmsLayer[12].setVisible(true);\r\n      }\r\n      if (this.checkedCities.indexOf(\"电缆管道（管道）\") == -1) {\r\n        this.wmsLayer[1].setVisible(false);\r\n      } else {\r\n        this.wmsLayer[1].setVisible(true);\r\n      }\r\n      if (this.checkedCities.indexOf(\"电缆管道（过路管道）\") == -1) {\r\n        this.wmsLayer[0].setVisible(false);\r\n      } else {\r\n        this.wmsLayer[0].setVisible(true);\r\n      }\r\n      if (this.checkedCities.indexOf(\"顶管\") == -1) {\r\n        this.wmsLayer[9].setVisible(false);\r\n      } else {\r\n        this.wmsLayer[9].setVisible(true);\r\n      }\r\n      if (this.checkedCities.indexOf(\"电缆沟\") == -1) {\r\n        this.wmsLayer[8].setVisible(false);\r\n      } else {\r\n        this.wmsLayer[8].setVisible(true);\r\n      }\r\n      if (this.checkedCities.indexOf(\"电缆桥\") == -1) {\r\n        this.wmsLayer[7].setVisible(false);\r\n      } else {\r\n        this.wmsLayer[7].setVisible(true);\r\n      }\r\n      if (this.checkedCities.indexOf(\"电缆隧道\") == -1) {\r\n        this.wmsLayer[6].setVisible(false);\r\n      } else {\r\n        this.wmsLayer[6].setVisible(true);\r\n      }\r\n\r\n      // for(var i=0;i<this.checkedCities.length;i++){\r\n\r\n      //   }\r\n    },\r\n    //测量\r\n    celi() {\r\n      console.log(this.map);\r\n      Measure.initMeasure(this.map, \"Polygon\"); // Polygon/LineString\r\n      console.log(\"测量\");\r\n    },\r\n    // 查看全图\r\n    alltu() {\r\n      this.map.getView().setCenter([120.05242466926575, 32.461509704589844]);\r\n      this.map.getView().setZoom(11);\r\n      // //获取地图当前视图\r\n      // var view = map.getView();\r\n      // //指定要平移到的位置的坐标\r\n      // var position = ol.proj.fromLonLat([120.0616192817688, 32.45738983154297]);\r\n      // //重设地图中心点，实现平移\r\n      // view.setCenter(position);\r\n    },\r\n    //图层控制\r\n    lineshow() {\r\n      // this.wmsLayer.setVisible(this.wmsShow = !this.wmsShow)\r\n      this.choestuc = !this.choestuc;\r\n      // WmsAllLayers.B(this)\r\n    },\r\n    dws() {\r\n      // console.log('dws');\r\n    },\r\n    // 放大\r\n    inzoom() {\r\n      var view = this.map.getView();\r\n      var zoom = view.getZoom();\r\n      view.setZoom(zoom - 1);\r\n    },\r\n    // 缩小\r\n    outzoom() {\r\n      var view = this.map.getView();\r\n      //获取地图当前缩放等级\r\n      var zoom = view.getZoom();\r\n      //每单击一次地图的缩放等级减一，以实现地图缩小\r\n      view.setZoom(zoom + 1);\r\n    },\r\n    // change(e) {  //test类型\r\n    //   this.typeSelected = e;\r\n    // },\r\n    //地图初始化\r\n    mapInitNoLayer() {\r\n      //地图显示区域范围（默认给84坐标系最大范围）\r\n      var tileExtent = [-180.0, -90.0, 180.0, 90.0];\r\n      //地图范围\r\n      var extent = [-180.0, -90.0, 180.0, 90.0];\r\n      this.jiufengWMTS = new ol.layer.Tile({\r\n        //平面\r\n        source: new ol.source.XYZ({\r\n          projection: \"EPSG:4326\",\r\n          tileGrid: ol.tilegrid.createXYZ({ extent: extent }),\r\n          tileUrlFunction: function (tileCoord, pixelRatio, proj) {\r\n            return (\r\n              \"http://172.23.192.201:8089/YTGIS/tms/tz18dz/tz18dz/\" +\r\n              \"/\" +\r\n              (tileCoord[0] - 1) +\r\n              \"/\" +\r\n              tileCoord[1] +\r\n              \"/\" +\r\n              (Math.pow(2, tileCoord[0] - 1) + tileCoord[2]) +\r\n              \".PNG\"\r\n            );\r\n          },\r\n        }),\r\n      });\r\n      this.wxmap = new ol.layer.Tile({\r\n        //卫星\r\n        source: new ol.source.XYZ({\r\n          projection: \"EPSG:4326\",\r\n          tileGrid: ol.tilegrid.createXYZ({ extent: extent }),\r\n          tileUrlFunction: function (tileCoord, pixelRatio, proj) {\r\n            return (\r\n              \"http://172.23.192.201:8089/YTGIS/tms/tz18yx/tz18yx/\" +\r\n              \"/\" +\r\n              (tileCoord[0] - 1) +\r\n              \"/\" +\r\n              tileCoord[1] +\r\n              \"/\" +\r\n              (Math.pow(2, tileCoord[0] - 1) + tileCoord[2]) +\r\n              \".PNG\"\r\n            );\r\n          },\r\n        }),\r\n        visible: false,\r\n      });\r\n      //初始化地图对象\r\n      this.map = new ol.Map({\r\n        target: \"map\",\r\n        // layers: [],\r\n        layers: [this.jiufengWMTS, this.wxmap],\r\n        view: new ol.View({\r\n          projection: ol.proj.get(\"EPSG:4326\"),\r\n          extent: tileExtent,\r\n          center: [119.953339, 32.466693],\r\n          zoom: 14,\r\n          minZoom: 11,\r\n          maxZoom: 20,\r\n        }),\r\n        controls: ol.control.defaults({\r\n          zoom: false,\r\n          rotate: false,\r\n          attribution: false,\r\n        }),\r\n      });\r\n      window.map = this.map;\r\n\r\n      this.wmsditu(); //wms图层\r\n\r\n      // var context = new ol.overlay({\r\n      //   element: document.getElementById(\"map\")\r\n      // })\r\n      // this.map.addOverlay(context)\r\n      this.contextmenu(this.map); //右键\r\n    },\r\n    //电气化线路图层\r\n    dqhline() {\r\n      var sourceData = new ol.source.ImageWMS({\r\n        url: \"http://fq2.gisserver.js.sgcc.com.cn:32080/gisserver/rest/gis/MapServer/export/json\",\r\n        serverType: \"geoserver\",\r\n        imageLoadFunction: function (image, src) {\r\n          var params = new URLSearchParams(src.slice(src.indexOf(\"?\")));\r\n          var BBOX = params.get(\"BBOX\").split(\",\");\r\n          var bboxstr = BBOX[1] + \",\" + BBOX[0] + \",\" + BBOX[3] + \",\" + BBOX[2];\r\n          var url =\r\n            \"http://fq2.gisserver.js.sgcc.com.cn:32080/gisserver/rest/gis/MapServer/export/json/?mapId=110&format=png&layers=101000%2C102000%2C103000%2C110000%2C111000%2C112000%2C113000%2C114000%2C115000%2C116000%2C117000%2C118000%2C119000%2C120000%2C121000%2C130000%2C140000%2C150000%2C160000%2C170000%2C180000%2C201000%2C202000%2C203000%2C205000%2C206000%2C207000%2C209000%2C210000%2C220000%2C300000%2C301000%2C302000%2C303000%2C304000%2C305000%2C306000%2C307000%2C308000%2C309000%2C311000%2C312000%2C313000%2C314000%2C315000%2C316000%2C317000%2C318000%2C319000%2C320000%2C321000%2C322000%2C330000%2C333000%2C339000%2C340000%2C345000%2C350000%2C360000%2C361000%2C370000%2C390000%2C391000&layerDefs=&displaySchemaId=&size=871%2C612&mapScale=62.57017025265134&versionId=0&bbox=\" +\r\n            bboxstr +\r\n            \"&position=front&updateInterval=150&opacity=1&visible=true&crossOrigin=true&attribute=null&interactive=false&alt=&name=dynamicLayer4&showRenderTime=false&params=%5Bobject%20Object%5D&maxZoom=undefined&minZoom=undefined&pane=overlayPane&nonBubblingEvents=&attribution=null\";\r\n          if (map.getView().getZoom() > 17) {\r\n            $.ajax({\r\n              url: url,\r\n              dataType: \"json\",\r\n              type: \"get\",\r\n              async: false,\r\n              success: function (res) {\r\n                if (res.success) {\r\n                  image.getImage().src =\r\n                    \"data:image/png;base64,\" + res.resultValue;\r\n                }\r\n              },\r\n              error: function (e) {},\r\n            });\r\n          }\r\n        },\r\n      });\r\n      this.dqhlinedata = new ol.layer.Image({\r\n        source: sourceData,\r\n      });\r\n\r\n      this.map.addLayer(this.dqhlinedata);\r\n    },\r\n    //wms图层\r\n    wmsditu() {\r\n      // WmsAllLayers.ALLmws(this)\r\n      // *************************************\r\n      for (var i = 0; i < this.wmstucen.length; i++) {\r\n        (this.wmsSource[i] = new ol.source.TileWMS({\r\n          url: \"http://172.23.192.201:8089/YTGIS/wms\",\r\n          params: {\r\n            LAYERS: this.wmstucen[i],\r\n            VERSION: \"1.1.1\",\r\n          },\r\n        })),\r\n          (this.wmsLayer[i] = new ol.layer.Tile({\r\n            zIndex: 9,\r\n            source: this.wmsSource[i],\r\n          }));\r\n        this.map.addLayer(this.wmsLayer[i]);\r\n        // this.wmsLayer[i].setVisible(false);\r\n      }\r\n      // *************************************\r\n      // this.wmsLayer[1].setVisible(true)\r\n      // console.log(this.wmsLayer);\r\n      // ************************************************\r\n      // wms矢量图层\r\n      // (this.wmsSource = new ol.source.TileWMS({\r\n      //   url: \"http://172.23.192.201:8089/YTGIS/wms\",\r\n      //   params: {\r\n      //     LAYERS: \"ditu_Default\",\r\n      //     // LAYERS:this.wmslayershow,\r\n      //     VERSION: \"1.1.1\",\r\n      //   },\r\n      //   // transition: 0,\r\n      // })),\r\n      //   //wms矢量图层\r\n      //   (this.wmsLayer = new ol.layer.Tile({\r\n      //     zIndex: 9,\r\n      //     source: this.wmsSource,\r\n      //   }));\r\n      // this.map.addLayer(this.wmsLayer);\r\n      // ************************************************\r\n      // this.wmsLayer.setMap(this.map); //非托管层 显示最上面\r\n      // this.wmsLayer.setVisible(false)\r\n    },\r\n    addPop() {\r\n      //地图点击事件\r\n      this.map.on(\"click\", (evt) => {\r\n        var coodinate = evt.coordinate;\r\n        // console.log(coodinate);\r\n        // 判断是否获取要素模式**************************************************************************查询要素*************\r\n        if (this.isGetRaduisFeature != \"none\") {\r\n          if (this.isGetRaduisFeature == \"Point\") {\r\n            //查询点\r\n            MapMet.QueryPoint(`${coodinate[0]},${coodinate[1]}`, this);\r\n          } else if (this.isGetRaduisFeature == \"LineString\") {\r\n            //查询线\r\n            MapMet.QueryLine(`${coodinate[0]},${coodinate[1]}`, this);\r\n          } else if (this.isGetRaduisFeature == \"Polygon\") {\r\n            //查询截面\r\n            MapMet.QueryPolygon(`${coodinate[0]},${coodinate[1]}`, this);\r\n          } else if (this.isGetRaduisFeature == \"Circle\") {\r\n            //查询埋设单元\r\n            MapMet.QueryCircle(`${coodinate[0]},${coodinate[1]}`, this);\r\n          }\r\n        }\r\n        //添加截面埋设单元\r\n        if (this.addPolygon) {\r\n          MapMet.addPolygon(`${coodinate[0]},${coodinate[1]}`, this);\r\n          // console.log(`${coodinate[0]},${coodinate[1]}`);\r\n        }\r\n      });\r\n    },\r\n    //新增点图层\r\n    addline() {\r\n      this.drawLayer.Point = new ol.layer.Vector({\r\n        source: new ol.source.Vector(),\r\n        style: new ol.style.Style({\r\n          image: new ol.style.Icon({\r\n            // anchor:[ 0.5,0.5], //点图片偏移量\r\n            // anchor: markSettings.markAnchor, //点图片偏移量\r\n            //   crossOrigin: 'anonymous',\r\n            src: \"http://172.23.192.201:8080/dist/a.png\", // 图片路径\r\n          }),\r\n        }),\r\n      });\r\n      //新增线图层\r\n      this.drawLayer.LineString = new ol.layer.Vector({\r\n        source: new ol.source.Vector(),\r\n        style: new ol.style.Style({\r\n          // 设置线颜色\\宽度\r\n          stroke: new ol.style.Stroke({\r\n            width: 3,\r\n            color: \"red\",\r\n          }),\r\n        }),\r\n      });\r\n      //新增面图层\r\n      this.drawLayer.Polygon = new ol.layer.Vector({\r\n        source: new ol.source.Vector(),\r\n        style: new ol.style.Style({\r\n          // 设置线颜色\\宽度\r\n          stroke: new ol.style.Stroke({\r\n            width: 3,\r\n            color: \"#119aff\",\r\n          }),\r\n          // 图形区域内颜色\r\n          fill: new ol.style.Fill({\r\n            color: \"rgba(255,255,255,0.5)\",\r\n          }),\r\n        }),\r\n      });\r\n      //新增面图层\r\n      this.drawLayer.Circle = new ol.layer.Vector({\r\n        source: new ol.source.Vector(),\r\n        style: new ol.style.Style({\r\n          // 设置线颜色\\宽度\r\n          stroke: new ol.style.Stroke({\r\n            width: 1,\r\n            color: \"red\",\r\n          }),\r\n          // 图形区域内颜色\r\n          fill: new ol.style.Fill({\r\n            color: \"yellow\",\r\n          }),\r\n        }),\r\n      });\r\n      for (let i in this.drawLayer) {\r\n        this.map.addLayer(this.drawLayer[i]);\r\n      }\r\n    },\r\n    //地图绘制            添加点线面\r\n    addInteraction() {\r\n      //地图绘制\r\n      if (this.typeSelected !== \"none\") {\r\n        this.draw = new ol.interaction.Draw({\r\n          source: this.drawLayer[this.typeSelected].getSource(),\r\n          type: this.typeSelected,\r\n          stopClick: true, // 绘制时停止点击事件\r\n        });\r\n        this.modify = new ol.interaction.Modify({\r\n          // 编辑工具\r\n          source: this.drawLayer[this.typeSelected].getSource(),\r\n        });\r\n        map.addInteraction(this.modify);\r\n        this.map.addInteraction(this.draw);\r\n        this.snap = new ol.interaction.Snap({\r\n          source: this.drawLayer[this.typeSelected].getSource(),\r\n        });\r\n        map.addInteraction(this.snap);\r\n        //数据获取*********************************************************************\r\n        this.draw.on(\"drawend\", (e) => {\r\n          if (e.feature != null) {\r\n            // console.log(e.feature.getGeomet\r\n            var data = [];\r\n            var jm = [];\r\n            //添加点**************************************************************************************添加点添加点添加点添点添加点************\r\n            //外部js  加点\r\n            if (this.typeSelected == \"Point\") {\r\n              MapMet.addPoint(\r\n                e.feature.getGeometry().getCoordinates().toString(),\r\n                this\r\n              );\r\n            }\r\n\r\n            if (this.typeSelected == \"LineString\") {\r\n              // console.log('绘制线');\r\n              MapMet.addLine(e.feature.getGeometry().getCoordinates(), this);\r\n            }\r\n            // 添加面*************************************************************************************添加面添加面添加面添加面加面*************\r\n            if (this.typeSelected == \"Polygon\") {\r\n              e.feature\r\n                .getGeometry()\r\n                .getCoordinates()[0]\r\n                .forEach((element) => {\r\n                  jm.push(element.toString().replace(\",\", \" \"));\r\n                });\r\n              var arr = [\r\n                {\r\n                  device_type: \"dws_gis_jm_info_polygon\",\r\n                  list: [{ coordinate: jm.toString(), addFlag: \"1\" }],\r\n                },\r\n              ];\r\n              MapReq.addPop({ jsonObj: arr }).then((res) => {\r\n                this.updateWms();\r\n              });\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    //刷新图层\r\n    updateWms() {\r\n      console.log(\"刷新\");\r\n      // for (let i in this.drawLayer) {\r\n      //   this.map.removeLayer(this.drawLayer[i]);\r\n      // }\r\n\r\n      for (var i = 0; i < this.wmstucen.length; i++) {\r\n        // console.log(this.wmstucen[i]);\r\n        this.wmsSource[i].updateParams({\r\n          LAYERS: this.wmstucen[i],\r\n          VERSION: \"1.1.1\",\r\n          s: new Date(),\r\n        });\r\n      }\r\n\r\n      // ***********************************************\r\n      // this.wmsSource.updateParams({\r\n      //   LAYERS: \"ditu_Default\",\r\n      //   VERSION: \"1.1.1\",\r\n      //   s: new Date(),\r\n      // });\r\n      for (let i in this.drawLayer) {\r\n        this.drawLayer[i].getSource().clear();\r\n      }\r\n      // ***********************************************\r\n      //  this.drawLayer.Point.getSource().clear()\r\n    },\r\n    //停止绘制\r\n    removeInteraction(a) {\r\n      this.map.removeInteraction(this.draw);\r\n    },\r\n    //地图切换\r\n    ditu() {\r\n      this.ditushow = !this.ditushow;\r\n    },\r\n    //切换图层\r\n    ChaLay(val) {\r\n      this.stylemap = val;\r\n      if (val == \"影像\") {\r\n        this.jiufengWMTS.setVisible(false);\r\n        this.wxmap.setVisible(true);\r\n      } else {\r\n        this.wxmap.setVisible(false);\r\n        this.jiufengWMTS.setVisible(true);\r\n      }\r\n      this.ditushow = false; //地图切换菜单\r\n    },\r\n    // 工具箱\r\n    toolbox() {\r\n      this.toolstype = !this.toolstype;\r\n      if (this.toolstype) {\r\n      } else {\r\n        this.choestuc = false;\r\n      }\r\n    },\r\n    //获取要素信息状态\r\n    getRaduisFeature(val) {\r\n      this.isGetRaduisFeature = val;\r\n    },\r\n    //编辑完成获取数据*******************************************************************获取编辑后的数据*********************\r\n    getFeature() {\r\n      Object.values(this.drawLayer).forEach((element) => {\r\n        let features = element.getSource().getFeatures();\r\n        features.forEach((element1) => {\r\n          this.gjcoordinate = element1.getGeometry().getCoordinates();\r\n          this.Movgjcoordinateid = element1.c; //id\r\n        });\r\n      });\r\n    },\r\n    //拖动交互\r\n    addMoveInteraction() {\r\n      var app = {};\r\n      /**\r\n       * @constructor\r\n       * @extends {ol.interaction.Pointer}\r\n       */\r\n      app.Drag = function () {\r\n        ol.interaction.Pointer.call(this, {\r\n          handleDownEvent: app.Drag.prototype.handleDownEvent,\r\n          handleDragEvent: app.Drag.prototype.handleDragEvent,\r\n          handleMoveEvent: app.Drag.prototype.handleMoveEvent,\r\n          handleUpEvent: app.Drag.prototype.handleUpEvent,\r\n        });\r\n        /**\r\n         * @type {ol.Pixel}\r\n         * @private\r\n         */\r\n        this.coordinate_ = null;\r\n        /**\r\n         * @type {string|undefined}\r\n         * @private\r\n         */\r\n        this.cursor_ = \"pointer\";\r\n        /**\r\n         * @type {ol.Feature}\r\n         * @private\r\n         */\r\n        this.feature_ = null;\r\n        /**\r\n         * @type {string|undefined}\r\n         * @private\r\n         */\r\n        this.previousCursor_ = undefined;\r\n      };\r\n      ol.inherits(app.Drag, ol.interaction.Pointer);\r\n      /**\r\n       * @param {ol.MapBrowserEvent} evt Map browser event.\r\n       * @return {boolean} `true` to start the drag sequence.\r\n       */\r\n      app.Drag.prototype.handleDownEvent = function (evt) {\r\n        var map = evt.map;\r\n        var feature = map.forEachFeatureAtPixel(evt.pixel, function (feature) {\r\n          return feature;\r\n        });\r\n\r\n        if (feature) {\r\n          this.coordinate_ = evt.coordinate;\r\n          this.feature_ = feature;\r\n        }\r\n\r\n        return !!feature;\r\n      };\r\n      /**\r\n       * @param {ol.MapBrowserEvent} evt Map browser event.\r\n       */\r\n      app.Drag.prototype.handleDragEvent = function (evt) {\r\n        var deltaX = evt.coordinate[0] - this.coordinate_[0];\r\n        var deltaY = evt.coordinate[1] - this.coordinate_[1];\r\n\r\n        var geometry = this.feature_.getGeometry();\r\n        geometry.translate(deltaX, deltaY);\r\n\r\n        this.coordinate_[0] = evt.coordinate[0];\r\n        this.coordinate_[1] = evt.coordinate[1];\r\n      };\r\n      /**\r\n       * @param {ol.MapBrowserEvent} evt Event.\r\n       */\r\n      app.Drag.prototype.handleMoveEvent = function (evt) {\r\n        if (this.cursor_) {\r\n          var map = evt.map;\r\n          var feature = map.forEachFeatureAtPixel(\r\n            evt.pixel,\r\n            function (feature) {\r\n              return feature;\r\n            }\r\n          );\r\n          var element = evt.map.getTargetElement();\r\n          if (feature) {\r\n            if (element.style.cursor != this.cursor_) {\r\n              this.previousCursor_ = element.style.cursor;\r\n              element.style.cursor = this.cursor_;\r\n            }\r\n          } else if (this.previousCursor_ !== undefined) {\r\n            element.style.cursor = this.previousCursor_;\r\n            this.previousCursor_ = undefined;\r\n          }\r\n        }\r\n      };\r\n      /**\r\n       * @return {boolean} `false` to stop the drag sequence.\r\n       */\r\n      var that = this;\r\n      app.Drag.prototype.handleUpEvent = function () {\r\n        //拖动回调\r\n        // console.log('拖动');************************************拖动完后触发******\r\n        if (that.isGetRaduisFeature == \"Point\") {\r\n          that.getFeature(); //获取移动数据\r\n          //   console.log(this.gjcoordinate.toString().replace(\",\",\" \"));\r\n          //   console.log(this.gjrid);\r\n          var arr = [\r\n            {\r\n              device_type: \"dws_gis_gj_info_point\",\r\n              list: [\r\n                {\r\n                  rid: that.gjrid,\r\n                  coordinate: that.gjcoordinate.toString().replace(\",\", \" \"),\r\n                  addFlag: \"2\",\r\n                },\r\n              ],\r\n            },\r\n          ];\r\n          MapReq.changedPoint({ jsonObj: arr }).then((res) => {\r\n            // console.log(res.data.data.data.dws_gis_gj_info_point);\r\n            if (res.data.data.data.dws_gis_gj_info_point.totalUpdated == \"1\") {\r\n              that.$message({ message: \"移动成功\", type: \"success\" });\r\n            }\r\n            that.updateWms(); //刷新\r\n            that.isGetRaduisFeature = \"none\";\r\n          });\r\n          //     // **************************************************右键修改点***********************\r\n        }\r\n\r\n        //移动设备编辑节点\r\n        that.getFeature();\r\n        // console.log(that.gjcoordinate);\r\n        if (that.nodecomp) {\r\n          MapMet.changedLinePoint(\r\n            that.gjcoordinate,\r\n            that.Movgjcoordinateid,\r\n            that\r\n          );\r\n        }\r\n\r\n        this.coordinate_ = null;\r\n        this.feature_ = null;\r\n        return false;\r\n      };\r\n      this.appD = new app.Drag();\r\n      this.map.addInteraction(this.appD);\r\n    },\r\n    //取消拖动交互\r\n    removeMoveInteraction() {\r\n      this.map.removeInteraction(this.appD);\r\n    },\r\n    //鼠标右键*********************************************************右键*************\r\n    contextmenu(map) {\r\n      var that = this;\r\n      $(map.getViewport()).on(\"contextmenu\", function (event) {\r\n        // var coordinate = map.getEventCoordinate(event.originalEvent)\r\n        // context.setPosition(coordinate)\r\n        // console.log(event.originalEvent);\r\n        //  右键取消绘画\r\n        // that.removeInteraction();\r\n        //  that.updateWms(); //刷新\r\n        //  console.log(event);\r\n        //  that.centerDialogVisible = true\r\n        // **************************************************右键修改点***********************\r\n        // if (that.isGetRaduisFeature == \"Point\") {\r\n        //   that.getFeature(); //获取移动数据\r\n        //   // console.log(that.gjcoordinate.toString().replace(\",\",\" \"));\r\n        //   // console.log(that.gjrid);\r\n        //   var arr = [{device_type: \"dws_gis_gj_vo_point\",list: [{rid: that.gjrid,coordinate: that.gjcoordinate.toString().replace(\",\", \" \"),addFlag: \"2\",},],},];\r\n        //   MapReq.changedPoint({ jsonObj: arr }).then((res) => {\r\n        //     if (res.data.data.data.dws_gis_gj_vo_point.totalUpdated == \"1\") {\r\n        //       that.$message({ message: \"移动成功\", type: \"success\" });\r\n        //     }\r\n\r\n        //     that.isGetRaduisFeature = 'none'\r\n        //   });\r\n        //     // **************************************************右键修改点***********************\r\n        // }\r\n        //  else if (that.isGetRaduisFeature == \"LineString\") {\r\n        //   // that.typeSelected = 'LineString'\r\n        //   // console.log('LineString');\r\n        // }\r\n        //删除工井\r\n        if (that.delePoint) {\r\n          that.$message({ message: \"停止删除\", type: \"success\" });\r\n          that.delePoint = false;\r\n          that.isGetRaduisFeature = \"none\";\r\n        }\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    //埋设方式传过来的数据\r\n    formData: {\r\n      handler(Data) {\r\n        // console.log(Data);\r\n        //值传给map.js\r\n        MapMet.fromdatafun(Data); //传值给map.js\r\n      },\r\n      deep: true,\r\n      immediate: false,\r\n    },\r\n    //截面传过来的数据\r\n    jmmbsl: {\r\n      handler(data) {\r\n        // console.log(data,'截面');\r\n        MapMet.jmfromdatafun(data); //传值给map.js\r\n      },\r\n      deep: true,\r\n      immediate: false,\r\n    },\r\n    //工井传过来的数据\r\n    gjdataname: {\r\n      handler(data) {},\r\n      deep: true,\r\n      immediate: false,\r\n    },\r\n    //绘画类型 调用\r\n    typeSelected(val) {\r\n      this.removeInteraction(); //停止绘画\r\n      this.addInteraction(); //地图绘画\r\n    },\r\n  },\r\n  created() {\r\n    // MapMet.somedata(this)\r\n    // Bus.$on(\"lsitId\", (e) => {\r\n    // console.log(e);\r\n    // if (e == 1) {\r\n    //   //移动设备\r\n    //   this.removeInteraction()\r\n    //   this.typeSelected = 'none'\r\n    //   this.isGetRaduisFeature = 'Point'\r\n    //   this.addMoveInteraction()\r\n    // }else if(e ==4 ){\r\n    //   console.log('删除设备');\r\n    //   this.isGetRaduisFeature = 'Point'\r\n    //   //删除判断\r\n    //   this.delePoint = true\r\n    // }else if(e == 6){\r\n    //   //节点编辑\r\n    //   this.removeInteraction()\r\n    //    this.updateWms() //刷新\r\n    //    this.isGetRaduisFeature = 'LineString'\r\n    //    this.removeMoveInteraction() //停止拖动\r\n    //    this.nodecomp = true\r\n    // }else if(e == 7){\r\n    //   //添加截面\r\n    //   //  this.removeInteraction()\r\n    //    this.isGetRaduisFeature = 'LineString'\r\n    //    this.addPolygon = true\r\n    // }\r\n    // });\r\n  },\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.chooesclick {\r\n  width: 180px;\r\n  height: 300px;\r\n  position: fixed;\r\n  top: 30%;\r\n  right: 11%;\r\n  z-index: 999;\r\n  background: rgb(255, 255, 255);\r\n  .chooestuc {\r\n    width: 100%;\r\n    height: 35px;\r\n    background: #007471;\r\n    display: block;\r\n    color: white;\r\n    font-size: 18px;\r\n    padding-top: 5px;\r\n    box-sizing: border-box;\r\n  }\r\n  .el-checkbox-group {\r\n    width: 50px;\r\n    padding: 0 10px;\r\n  }\r\n  .el-checkbox {\r\n    margin: 4px 0;\r\n  }\r\n}\r\n.Mapp {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  user-select: none;\r\n}\r\n#map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.popup-content {\r\n  width: 20px;\r\n  height: 20px;\r\n  /* background-image: url(\"../../assets/image/Nanjin/dot2.png\"); */\r\n  // background: brown;\r\n  background-size: 100% 100%;\r\n}\r\n.allchoos {\r\n  position: absolute;\r\n  top: 1%;\r\n  right: 5%;\r\n}\r\n.choose {\r\n  position: absolute;\r\n  top: 90%;\r\n  right: -50%;\r\n  width: 120px;\r\n  height: 60px;\r\n  background: rgb(255, 255, 255);\r\n  border-radius: 5px;\r\n  box-shadow: rgba(228, 223, 223, 0.5) 0 0 0 3px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.choose div {\r\n  width: 60px;\r\n  height: 100%;\r\n  float: left;\r\n  box-sizing: border-box;\r\n  padding: 5px;\r\n  overflow: hidden;\r\n  border-radius: 5%;\r\n  cursor: pointer;\r\n}\r\n.choose div img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.ChanLay {\r\n  /* position: absolute;\r\n  top: 3%;\r\n  right: 5%; */\r\n  width: 60px;\r\n  height: 60px;\r\n  cursor: pointer;\r\n}\r\n.ChanLay img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.toolbox {\r\n  position: absolute;\r\n  top: 14.5%;\r\n  right: 5%;\r\n  // width: 60px;\r\n  // height: 60px;\r\n  // background: turquoise;\r\n  div:nth-child(1) {\r\n    width: 60px;\r\n    height: 60px;\r\n    cursor: pointer;\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  div:nth-child(2) {\r\n    position: absolute;\r\n    top: 87%;\r\n    right: -25%;\r\n    ul {\r\n      width: 100px;\r\n      // height: 100px;\r\n      background: rgb(255, 255, 255);\r\n      border-radius: 2%;\r\n      margin: 0;\r\n      padding: 8% 5%;\r\n      box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.3);\r\n      li {\r\n        // background: white;\r\n        width: 80%;\r\n        height: 20px;\r\n        margin: 5px 8px !important;\r\n        font-size: 14px;\r\n        text-align: left;\r\n        list-style: none;\r\n        color: #666666;\r\n        margin: 0 auto;\r\n        cursor: pointer;\r\n        img {\r\n          margin-right: 5px;\r\n        }\r\n      }\r\n      li:hover {\r\n        // background: #c6ebea;\r\n      }\r\n    }\r\n  }\r\n}\r\n.dws {\r\n  position: absolute;\r\n  top: 20%;\r\n  left: 0%;\r\n  text-align: left;\r\n  //  width: 100px;\r\n  //  height: 50%;\r\n}\r\n.el-button--primary {\r\n  background: #1e8b85;\r\n}\r\n.el-dialog__body {\r\n  span {\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    // text-align: center;\r\n  }\r\n  /**\r\n  * 提示框的样式信息\r\n  */\r\n  .tooltip {\r\n    position: relative;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    border-radius: 4px;\r\n    color: white;\r\n    padding: 4px 8px;\r\n    opacity: 0.7;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .tooltip-measure {\r\n    opacity: 1;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .tooltip-static {\r\n    background-color: #ffffff;\r\n    color: black;\r\n    border: 1px solid white;\r\n  }\r\n\r\n  .tooltip-measure:before,\r\n  .tooltip-static:before {\r\n    border-top: 6px solid rgba(0, 0, 0, 0.5);\r\n    border-right: 6px solid transparent;\r\n    border-left: 6px solid transparent;\r\n    content: \"\";\r\n    position: absolute;\r\n    bottom: -6px;\r\n    margin-left: -7px;\r\n    left: 50%;\r\n  }\r\n\r\n  .tooltip-static:before {\r\n    border-top-color: #ffffff;\r\n  }\r\n\r\n  .popup-content {\r\n    background: #fff;\r\n    padding: 3px;\r\n  }\r\n  .ol-popup-closer {\r\n    position: absolute;\r\n    top: 2px;\r\n    right: 8px;\r\n  }\r\n  .ol-popup-closer:after {\r\n    content: \"x\";\r\n    color: #fff;\r\n  }\r\n}\r\n</style>"]}]}